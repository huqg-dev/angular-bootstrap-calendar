/**
 * angular-bootstrap-calendar - A pure AngularJS bootstrap themed responsive calendar that can display events and has views for year, month, week and day
 * @version v1.0.0
 * @link https://github.com/mattlewis92/angular-bootstrap-calendar
 * @license MIT
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("angular"),require("moment"),function(){try{return require("interactjs")}catch(e){}}()):"function"==typeof define&&define.amd?define(["angular","moment","interact"],t):"object"==typeof exports?exports.angularBootstrapCalendarModuleName=t(require("angular"),require("moment"),function(){try{return require("interactjs")}catch(e){}}()):e.angularBootstrapCalendarModuleName=t(e.angular,e.moment,e.interact)}("undefined"!=typeof self?self:this,function(e,t,a){return function(e){function t(n){if(a[n])return a[n].exports;var l=a[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,t),l.l=!0,l.exports}var a={};return t.m=e,t.c=a,t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(t,a){t.exports=e},function(e,t,a){function n(e,t){if(c(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var a=t||{},n=a.additionalDigits;n=null==n?u:Number(n);var s=l(e),v=r(s.date,n),g=v.year,w=v.restDateString,p=i(w,g);if(p){var y,f=p.getTime(),h=0;return s.time&&(h=d(s.time)),s.timezone?y=o(s.timezone):(y=new Date(f+h).getTimezoneOffset(),y=new Date(f+h+y*m).getTimezoneOffset()),new Date(f+h+y*m)}return new Date(e)}function l(e){var t,a={},n=e.split(g);if(w.test(n[0])?(a.date=null,t=n[0]):(a.date=n[0],t=n[1]),t){var l=A.exec(t);l?(a.time=t.replace(l[1],""),a.timezone=l[1]):a.time=t}return a}function r(e,t){var a,n=y[t],l=h[t];if(a=f.exec(e)||l.exec(e)){var r=a[1];return{year:parseInt(r,10),restDateString:e.slice(r.length)}}if(a=p.exec(e)||n.exec(e)){var i=a[1];return{year:100*parseInt(i,10),restDateString:e.slice(i.length)}}return{year:null}}function i(e,t){if(null===t)return null;var a,n,l,r;if(0===e.length)return n=new Date(0),n.setUTCFullYear(t),n;if(a=E.exec(e))return n=new Date(0),l=parseInt(a[1],10)-1,n.setUTCFullYear(t,l),n;if(a=b.exec(e)){n=new Date(0);var i=parseInt(a[1],10);return n.setUTCFullYear(t,0,i),n}if(a=D.exec(e)){n=new Date(0),l=parseInt(a[1],10)-1;var d=parseInt(a[2],10);return n.setUTCFullYear(t,l,d),n}if(a=S.exec(e))return r=parseInt(a[1],10)-1,s(t,r);if(a=k.exec(e)){r=parseInt(a[1],10)-1;return s(t,r,parseInt(a[2],10)-1)}return null}function d(e){var t,a,n;if(t=x.exec(e))return(a=parseFloat(t[1].replace(",",".")))%24*v;if(t=T.exec(e))return a=parseInt(t[1],10),n=parseFloat(t[2].replace(",",".")),a%24*v+n*m;if(t=C.exec(e)){a=parseInt(t[1],10),n=parseInt(t[2],10);var l=parseFloat(t[3].replace(",","."));return a%24*v+n*m+1e3*l}return null}function o(e){var t,a;return(t=R.exec(e))?0:(t=M.exec(e))?(a=60*parseInt(t[2],10),"+"===t[1]?-a:a):(t=$.exec(e),t?(a=60*parseInt(t[2],10)+parseInt(t[3],10),"+"===t[1]?-a:a):0)}function s(e,t,a){t=t||0,a=a||0;var n=new Date(0);n.setUTCFullYear(e,0,4);var l=n.getUTCDay()||7,r=7*t+a+1-l;return n.setUTCDate(n.getUTCDate()+r),n}var c=a(5),v=36e5,m=6e4,u=2,g=/[T ]/,w=/:/,p=/^(\d{2})$/,y=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],f=/^(\d{4})/,h=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],E=/^-(\d{2})$/,b=/^-?(\d{3})$/,D=/^-?(\d{2})-?(\d{2})$/,S=/^-?W(\d{2})$/,k=/^-?W(\d{2})-?(\d{1})$/,x=/^(\d{2}([.,]\d*)?)$/,T=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,C=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,A=/([Z+-].*)$/,R=/^(Z)$/,M=/^([+-])(\d{2})$/,$=/^([+-])(\d{2}):?(\d{2})$/;e.exports=n},function(e,t,a){function n(e,t){var a=l(e).getTime(),n=Number(t);return new Date(a+n)}var l=a(1);e.exports=n},function(e,t,a){function n(e){var t=l(e);return t.setHours(0,0,0,0),t}var l=a(1);e.exports=n},function(e,t,a){"use strict";function n(e){var t=e.startDate,a=e.seconds,n=e.excluded,r=e.precision,i=void 0===r?"days":r;if(n.length<1)return 0;for(var d=k()(t,a-1),o=Y()(t),s=Y()(k()(d,0)),c=0,v=t;v<d;)!function(){var e=Y()(v);n.some(function(t){return t===e})&&(c+=l({dayStart:o,dayEnd:s,day:e,precision:i,startDate:t,endDate:d})),v=f()(v,1)}();return c}function l(e){var t=e.precision,a=e.day,n=e.dayStart,l=e.dayEnd,r=e.startDate,i=e.endDate;if("minutes"===t){if(a===n)return M()(V()(r),r)+1;if(a===l)return M()(i,ee()(i))+1}return me}function r(e){var t=e.event,a=e.offset,l=e.startOfWeekDate,r=e.excluded,i=e.precision,d=void 0===i?"days":i,o=me,s=G()(t.start,l);if(t.end)switch(d){case"minutes":o=M()(t.end,s);break;default:o=T()(f()(t.end,1),s)*me}var c=a*me;return c+o>ue&&(o=ue-c),(o-=n({startDate:s,seconds:o,excluded:r,precision:d}))/me}function i(e){var t=e.event,a=e.startOfWeek,l=e.excluded,r=void 0===l?[]:l,i=e.precision,d=void 0===i?"days":i;if(t.start<a)return 0;var o=0;switch(d){case"days":o=T()(ee()(t.start),a)*me;break;case"minutes":o=M()(t.start,a)}return(o-=n({startDate:a,seconds:o,excluded:r,precision:d}))/me}function d(e){var t=e.event,a=e.periodStart,n=e.periodEnd,l=t.start,r=t.end||t.start;return l>a&&l<n||(r>a&&r<n||(l<a&&r>n||(!(!B()(l,a)&&!B()(l,n))||!(!B()(r,a)&&!B()(r,n)))))}function o(e){var t=e.events,a=e.periodStart,n=e.periodEnd;return t.filter(function(e){return d({event:e,periodStart:a,periodEnd:n})})}function s(e){var t=e.date,a=e.weekendDays,n=void 0===a?oe:a,l=ee()(new Date);return{date:t,isPast:t<l,isToday:N()(t,l),isFuture:t>l,isWeekend:n.indexOf(Y()(t))>-1}}function c(e){for(var t=e.viewDate,a=e.weekStartsOn,n=e.excluded,l=void 0===n?[]:n,r=e.weekendDays,i=ie()(t,{weekStartsOn:a}),d=[],o=0;o<se;o++)!function(e){var t=f()(i,e);l.some(function(e){return t.getDay()===e})||d.push(s({date:t,weekendDays:r}))}(o);return d}function v(e){var t=e.events,a=void 0===t?[]:t,n=e.viewDate,l=e.weekStartsOn,d=e.excluded,s=void 0===d?[]:d,c=e.precision,v=void 0===c?"days":c,m=e.absolutePositionedEvents,u=void 0!==m&&m;a||(a=[]);var g=ie()(n,{weekStartsOn:l}),w=I()(n,{weekStartsOn:l}),p=se-s.length,y=o({events:a,periodStart:g,periodEnd:w}),f=y.map(function(e){var t=i({event:e,startOfWeek:g,excluded:s,precision:v});return{event:e,offset:t,span:r({event:e,offset:t,startOfWeekDate:g,excluded:s,precision:v})}}).filter(function(e){return e.offset<p}).filter(function(e){return e.span>0}).map(function(e){return{event:e.event,offset:e.offset,span:e.span,startsBeforeWeek:e.event.start<g,endsAfterWeek:(e.event.end||e.event.start)>w}}).sort(function(e,t){var a=M()(e.event.start,t.event.start);return 0===a?M()(t.event.end||t.event.start,e.event.end||e.event.start):a}),h=[],E=[];return f.forEach(function(e,t){if(-1===E.indexOf(e)){E.push(e);var a=e.span+e.offset,n=f.slice(t+1).filter(function(e){if(e.offset>=a&&a+e.span<=se&&-1===E.indexOf(e)){var t=e.offset-a;return u||(e.offset=t),a+=e.span+t,E.push(e),!0}});h.push({row:[e].concat(n)})}}),{eventRows:h,period:{events:y,start:g,end:w}}}function m(e){var t=e.events,a=void 0===t?[]:t,n=e.viewDate,l=e.weekStartsOn,r=e.excluded,i=void 0===r?[]:r,d=e.viewStart,c=void 0===d?le()(n):d,v=e.viewEnd,m=void 0===v?O()(n):v,u=e.weekendDays;a||(a=[]);for(var g,w=ie()(c,{weekStartsOn:l}),p=I()(m,{weekStartsOn:l}),y=o({events:a,periodStart:w,periodEnd:p}),f=[],h=0;h<T()(p,w)+1;h++)!function(e){var t;if(g?(t=ee()(E()(g,ce)),g.getTime()===t.getTime()&&(t=ee()(E()(g,ce+1))),g=t):t=g=w,!i.some(function(e){return t.getDay()===e})){var a=s({date:t,weekendDays:u}),l=o({events:y,periodStart:ee()(t),periodEnd:V()(t)});a.inMonth=_()(t,n),a.events=l,a.badgeTotal=l.length,f.push(a)}}();var b=[],D=se-i.length;if(D<se)for(var h=0;h<f.length;h+=D){var S=f.slice(h,h+D),k=S.some(function(e){return e.date.getMonth()===n.getMonth()});k&&(b=b.concat(S))}else b=f;for(var x=Math.floor(b.length/D),C=[],h=0;h<x;h++)C.push(h*D);return{rowOffsets:C,totalDaysVisibleInWeek:D,days:b,period:{start:w,end:p,events:y}}}function u(e){var t=e.events,a=void 0===t?[]:t,n=e.viewDate,l=e.hourSegments,r=e.dayStart,i=e.dayEnd,d=e.eventWidth,s=e.segmentHeight;a||(a=[]);var c=J()(Q()(ee()(n),r.hour),r.minute),v=J()(Q()(ae()(V()(n)),i.hour),i.minute),m=[],u=o({events:a.filter(function(e){return!e.allDay}),periodStart:c,periodEnd:v}),g=u.sort(function(e,t){return e.start.valueOf()-t.start.valueOf()}).map(function(e){var t=e.start,a=e.end||t,n=t<c,r=a>v,i=l*s/ve,o=0;t>c&&(o+=A()(t,c)),o*=i;var u=n?c:t,g=r?v:a,w=A()(g,u);e.end?w*=i:w=s;for(var p=o+w,y=m.filter(function(e){var t=e.top,a=e.top+e.height;return o<a&&a<p||t<=o&&p<=a}),f=0;y.some(function(e){return e.left===f});)f+=d;var h={event:e,height:w,width:d,top:o,left:f,startsBeforeDay:n,endsAfterDay:r};return w>0&&m.push(h),h}).filter(function(e){return e.height>0});return{events:g,width:Math.max.apply(Math,g.map(function(e){return e.left+e.width})),allDayEvents:o({events:a.filter(function(e){return e.allDay}),periodStart:ee()(c),periodEnd:V()(v)}),period:{events:u,start:c,end:v}}}function g(e){for(var t=e.viewDate,a=e.hourSegments,n=e.dayStart,l=e.dayEnd,r=[],i=J()(Q()(ee()(t),n.hour),n.minute),d=J()(Q()(ae()(V()(t)),l.hour),l.minute),o=ve/a,s=ee()(t),c=0;c<ce;c++){for(var v=[],m=0;m<a;m++){var u=D()(E()(s,c),m*o);u>=i&&u<d&&v.push({date:u,isStart:0===m})}v.length>0&&r.push({segments:v})}return r}function w(e,t){function a(e,a){t(e,a),n=!1}var n=!0;return Array.isArray(e)?(e.forEach(function(e){e.start?q()(e.start)||a(de.StartPropertyNotDate,e):a(de.StartPropertyMissing,e),e.end&&(q()(e.end)||a(de.EndPropertyNotDate,e),e.start>e.end&&a(de.EndsBeforeStart,e))}),n):(t(de.NotArray,e),!1)}Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"DAYS_OF_WEEK",function(){return p}),a.d(t,"SECONDS_IN_DAY",function(){return me}),a.d(t,"SECONDS_IN_WEEK",function(){return ue}),t.getWeekViewEventOffset=i,t.getEventsInPeriod=o,t.getWeekViewHeader=c,t.getWeekView=v,t.getMonthView=m,t.getDayView=u,t.getDayViewHourGrid=g,a.d(t,"EventValidationErrorMessage",function(){return de}),t.validateEvents=w;var p,y=a(23),f=a.n(y),h=a(24),E=a.n(h),b=a(25),D=a.n(b),S=a(26),k=a.n(S),x=a(27),T=a.n(x),C=a(30),A=a.n(C),R=a(31),M=a.n(R),$=a(32),V=a.n($),z=a(33),O=a.n(z),F=a(34),I=a.n(F),H=a(35),Y=a.n(H),W=a(5),q=a.n(W),P=a(36),N=a.n(P),j=a(37),_=a.n(j),U=a(38),B=a.n(U),L=a(40),G=a.n(L),K=a(41),Q=a.n(K),Z=a(42),J=a.n(Z),X=a(3),ee=a.n(X),te=a(43),ae=a.n(te),ne=a(44),le=a.n(ne),re=a(45),ie=a.n(re);!function(e){e[e.SUNDAY=0]="SUNDAY",e[e.MONDAY=1]="MONDAY",e[e.TUESDAY=2]="TUESDAY",e[e.WEDNESDAY=3]="WEDNESDAY",e[e.THURSDAY=4]="THURSDAY",e[e.FRIDAY=5]="FRIDAY",e[e.SATURDAY=6]="SATURDAY"}(p||(p={}));var de,oe=[p.SUNDAY,p.SATURDAY],se=7,ce=24,ve=60,me=86400,ue=me*se;!function(e){e.NotArray="Events must be an array",e.StartPropertyMissing="Event is missing the `start` property",e.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",e.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",e.EndsBeforeStart="Event `start` property occurs after the `end`"}(de||(de={}))},function(e,t){function a(e){return e instanceof Date}e.exports=a},function(e,t,a){function n(e,t){var a=l(e),n=l(t);return a.getTime()-n.getTime()}var l=a(1);e.exports=n},function(e,t,a){"use strict";function n(e){e.keys().forEach(e)}a(8);var l=a(0),r={},i=a(9);i.keys().forEach(function(e){var t=e.replace("./",""),a="mwl/"+t,n=t.replace(".html","");r[n]={cacheTemplateName:a,template:i(e)}}),e.exports=l.module("mwl.calendar",[]).config(["calendarConfig",function(e){l.forEach(r,function(t,a){e.templates[a]||(e.templates[a]=t.cacheTemplateName)})}]).run(["$templateCache","$interpolate",function(e,t){l.forEach(r,function(a){if(!e.get(a.cacheTemplateName)){var n=a.template.replace("{{",t.startSymbol()).replace("}}",t.endSymbol());e.put(a.cacheTemplateName,n)}})}]).name,n(a(19)),n(a(58)),n(a(63))},function(e,t){},function(e,t,a){function n(e){return a(l(e))}function l(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./calendar.html":10,"./calendarDayView.html":11,"./calendarHourList.html":12,"./calendarMonthCell.html":13,"./calendarMonthCellEvents.html":14,"./calendarMonthView.html":15,"./calendarSlideBox.html":16,"./calendarWeekView.html":17,"./calendarYearView.html":18};n.keys=function(){return Object.keys(r)},n.resolve=l,e.exports=n,n.id=9},function(e,t){e.exports="<div class=cal-context ng-switch=vm.view ng-if=vm.templatesLoaded> <div class=\"alert alert-danger\" ng-switch-default>The value passed to the view attribute of the calendar is not set</div> <div class=\"alert alert-danger\" ng-hide=vm.viewDate>The value passed to view-date attribute of the calendar is not set</div> <mwl-calendar-year events=vm.events view-date=vm.viewDate on-event-click=vm.onEventClick on-event-times-changed=vm.onEventTimesChanged on-timespan-click=vm.onTimespanClick cell-is-open=vm.cellIsOpen cell-modifier=vm.cellModifier slide-box-disabled=vm.slideBoxDisabled custom-template-urls=vm.customTemplateUrls template-scope=vm.templateScope cell-auto-open-disabled=vm.cellAutoOpenDisabled year-view-start=vm.yearViewStart year-view-end=vm.yearViewEnd ng-switch-when=year> </mwl-calendar-year> <mwl-calendar-month events=vm.events view-date=vm.viewDate excluded-days=vm.excludedDays on-event-click=vm.onEventClick on-event-times-changed=vm.onEventTimesChanged on-timespan-click=vm.onTimespanClick on-date-range-select=vm.onDateRangeSelect cell-is-open=vm.cellIsOpen cell-modifier=vm.cellModifier slide-box-disabled=vm.slideBoxDisabled custom-template-urls=vm.customTemplateUrls template-scope=vm.templateScope cell-auto-open-disabled=vm.cellAutoOpenDisabled draggable-auto-scroll=vm.draggableAutoScroll ng-switch-when=month> </mwl-calendar-month> <mwl-calendar-week events=vm.events view-date=vm.viewDate excluded-days=vm.excludedDays on-event-click=vm.onEventClick on-event-times-changed=vm.onEventTimesChanged day-view-start=vm.dayViewStart day-view-end=vm.dayViewEnd day-view-split=vm.dayViewSplit day-view-event-chunk-size=vm.dayViewEventChunkSize on-timespan-click=vm.onTimespanClick on-date-range-select=vm.onDateRangeSelect custom-template-urls=vm.customTemplateUrls cell-modifier=vm.cellModifier template-scope=vm.templateScope draggable-auto-scroll=vm.draggableAutoScroll ng-switch-when=week> </mwl-calendar-week> <mwl-calendar-day events=vm.events view-date=vm.viewDate on-event-click=vm.onEventClick on-event-times-changed=vm.onEventTimesChanged on-timespan-click=vm.onTimespanClick on-date-range-select=vm.onDateRangeSelect day-view-start=vm.dayViewStart day-view-end=vm.dayViewEnd day-view-split=vm.dayViewSplit day-view-event-chunk-size=vm.dayViewEventChunkSize day-view-segment-size=vm.dayViewSegmentSize day-view-event-width=vm.dayViewEventWidth custom-template-urls=vm.customTemplateUrls cell-modifier=vm.cellModifier template-scope=vm.templateScope day-view-time-position=\"vm.dayViewTimePosition || 'default'\" draggable-auto-scroll=vm.draggableAutoScroll ng-class=\"{\r\n      'time-on-side' : vm.dayViewTimePosition === 'side',\r\n      'time-hidden' : vm.dayViewTimePosition === 'hidden'\r\n    }\" ng-switch-when=day> </mwl-calendar-day> </div> "},function(e,t){e.exports='<div style=height:59px;position:relative> <div style="float:left;width:62px;height:100%;border:solid 1px #e1e1e1;border-right:0;border-bottom:0;padding-top:20px" align=center><strong>全天</strong> </div> <div style="float:left;width:calc(100% - 102px);height:100%;border:solid 1px #e1e1e1;border-bottom:0;border-right:0"> <div ng-repeat="calEvent in vm.allDayEvents" class="year-day-col-md-2 year-day-item-line"> <div class="cal-year-hidden-point cal-year-sub-div49 cal-green-low year-day-col-md-12" ng-click="vm.onEventClick({calendarEvent: calEvent, eventEl : $event})" ng-if="calEvent.calendarFlag == 3 && calEvent.calendarStatus == 1"> <div class="icon green-low"></div> <div class="cal-year-qz-word qz-word-color1 cal-year-content-width cal-year-hidden-point" style=margin-top:4px title={{calEvent.title}} ng-bind-html="calEvent.calendarTitle | calendarTrustAsHtml"></div> <div class="cal-year-qz-word qz-word-color1 cal-year-content-width cal-year-hidden-point"> <span style=width:80% title={{calEvent.calendarPubSub}}>{{calEvent.calendarPubSub}}</span> </div> </div> <div class="cal-year-hidden-point cal-year-sub-div49 cal-green-low year-day-col-md-12" ng-click="vm.onEventClick({calendarEvent: calEvent, eventEl : $event})" ng-if="calEvent.calendarFlag == 3 && calEvent.calendarStatus == 4"> <div class="icon green-high"></div> <div class="cal-year-qz-word qz-word-color2 cal-year-content-width cal-year-hidden-point" style=margin-top:4px title={{calEvent.title}} ng-bind-html="calEvent.calendarTitle | calendarTrustAsHtml"></div> <div class="cal-year-qz-word qz-word-color3 cal-year-content-width cal-year-hidden-point"> <span style=width:80% title={{calEvent.calendarPubSub}}>{{calEvent.calendarPubSub}}</span> </div> </div> <div class="cal-year-hidden-point cal-year-sub-div49 cal-blue-low year-day-col-md-12" ng-click="vm.onEventClick({calendarEvent: calEvent, eventEl : $event})" ng-if="calEvent.calendarFlag == 2 && calEvent.calendarStatus == 1"> <div class="icon blue-low"></div> <div class="cal-year-qz-content qz-word-color1 cal-year-content-width cal-year-hidden-point"> <span title={{calEvent.title}} ng-bind-html="calEvent.calendarTitle | calendarTrustAsHtml"></span> </div> </div> <div class="cal-year-hidden-point cal-year-sub-div49 cal-red-low year-day-col-md-12" ng-click="vm.onEventClick({calendarEvent: calEvent, eventEl : $event})" ng-if="calEvent.calendarFlag == 2 && calEvent.calendarStatus == 2"> <div class="icon red-high"></div> <div class="cal-year-qz-content qz-word-color4 cal-year-content-width cal-year-hidden-point"> <span title={{calEvent.title}} ng-bind-html="calEvent.calendarTitle | calendarTrustAsHtml"></span> </div> </div> <div class="cal-year-hidden-point cal-year-sub-div20 cal-blue-low year-day-col-md-12" ng-click="vm.onEventClick({calendarEvent: calEvent, eventEl : $event})" ng-if="calEvent.calendarFlag == 2 && calEvent.calendarStatus == 4"> <div class="icon blue-high"></div> <div class="cal-year-qz-content qz-word-color2 cal-year-content-width cal-year-hidden-point"> <span title={{calEvent.title}} ng-bind-html="calEvent.calendarTitle | calendarTrustAsHtml"></span> </div> </div> <div class="cal-year-sub-div49 cal-ori-low cal-year-hidden-point year-day-div-width18" ng-click="vm.onEventClick({calendarEvent: calEvent, eventEl : $event})" ng-if="calEvent.calendarFlag == 1 && calEvent.calendarStatus == 2"> <div class="icon ori-low"></div> <div class="cal-year-qz-content qz-word-color1 cal-year-content-width cal-year-hidden-point"> <span title={{calEvent.title}} ng-bind-html="calEvent.calendarTitle | calendarTrustAsHtml"></span> </div> </div> <div class="cal-year-sub-div49 cal-ori-low cal-year-hidden-point year-day-col-md-12" ng-click="vm.onEventClick({calendarEvent: calEvent, eventEl : $event})" ng-if="calEvent.calendarFlag == 1 && calEvent.calendarStatus == 4"> <div class="icon ori-high"></div> <div class="cal-year-qz-content qz-word-color2 cal-year-content-width cal-year-hidden-point"> <span title={{calEvent.title}} ng-bind-html="calEvent.calendarTitle | calendarTrustAsHtml"></span> </div> </div> </div> </div> <div style="float:left;width:40px;height:100%;border:solid 1px #e1e1e1;border-left:0;border-bottom:0;border-left:0" ng-if="vm.allDayEvents.length<=6" align=center class=myShowClass> </div> <div style="float:left;width:40px;height:100%;border:solid 1px #e1e1e1;border-left:0;border-bottom:0" ng-if="vm.allDayEvents.length>6" align=center class=myShowClass> <div class="year-more-button myShowClass" ng-click=vm.showAllDayOver()><strong>...</strong></div> </div> <div class="showAllDayEventTips myShowClass" ng-show=vm.showAllDayEventTips> <div ng-repeat="calEvent in vm.allDayEvents  | limitTo: (6 - vm.allDayEvents.length)"> <div class="cal-year-hidden-point cal-year-sub-div49 cal-green-low year-day-div-width365" ng-click="vm.onEventClick({calendarEvent: calEvent, eventEl : $event})" ng-if="calEvent.calendarFlag == 3 && calEvent.calendarStatus == 1"> <div class="icon green-low"></div> <div class="cal-year-qz-word qz-word-color1 cal-year-content-width cal-year-hidden-point" style=margin-top:4px title={{calEvent.title}} ng-bind-html="calEvent.calendarTitle | calendarTrustAsHtml"></div> <div class="cal-year-qz-word qz-word-color1 cal-year-content-width cal-year-hidden-point"> <span style=width:80% title={{calEvent.calendarPubSub}}>{{calEvent.calendarPubSub}}</span> </div> </div> <div class="cal-year-hidden-point cal-year-sub-div49 cal-green-low year-day-div-width365" ng-click="vm.onEventClick({calendarEvent: calEvent, eventEl : $event})" ng-if="calEvent.calendarFlag == 3 && calEvent.calendarStatus == 4"> <div class="icon green-high"></div> <div class="cal-year-qz-word qz-word-color2 cal-year-content-width cal-year-hidden-point" style=margin-top:4px title={{calEvent.title}} ng-bind-html="calEvent.calendarTitle | calendarTrustAsHtml"></div> <div class="cal-year-qz-word qz-word-color3 cal-year-content-width cal-year-hidden-point"> <span style=width:80% title={{calEvent.calendarPubSub}}>{{calEvent.calendarPubSub}}</span> </div> </div> <div class="cal-year-hidden-point cal-year-sub-div20 cal-blue-low year-day-div-width365 year-day-div-height49" ng-click="vm.onEventClick({calendarEvent: calEvent, eventEl : $event})" ng-if="calEvent.calendarFlag == 2 && calEvent.calendarStatus == 1"> <div class="icon blue-low"></div> <div class="cal-year-qz-content qz-word-color1 cal-year-content-width cal-year-hidden-point"> <span title={{calEvent.title}} ng-bind-html=calEvent.calendarTitle></span> </div> </div> <div class="cal-year-hidden-point cal-year-sub-div20 cal-red-low year-day-div-width365 year-day-div-height49" ng-click="vm.onEventClick({calendarEvent: calEvent, eventEl : $event})" ng-if="calEvent.calendarFlag == 2 && calEvent.calendarStatus == 2"> <div class="icon red-high"></div> <div class="cal-year-qz-content qz-word-color4 cal-year-content-width cal-year-hidden-point"> <span title={{calEvent.title}} ng-bind-html="calEvent.calendarTitle | calendarTrustAsHtml"></span> </div> </div> <div class="cal-year-hidden-point cal-year-sub-div20 cal-blue-low year-day-div-width365" ng-click="vm.onEventClick({calendarEvent: calEvent, eventEl : $event})" ng-if="calEvent.calendarFlag == 2 && calEvent.calendarStatus == 4"> <div class="icon blue-high"></div> <div class="cal-year-qz-content qz-word-color2 cal-year-content-width cal-year-hidden-point"> <span title={{calEvent.title}} ng-bind-html="calEvent.calendarTitle | calendarTrustAsHtml"></span> </div> </div> <div class="cal-year-sub-div20 cal-ori-low cal-year-hidden-point year-day-div-width365 year-day-div-height49" ng-click="vm.onEventClick({calendarEvent: calEvent, eventEl : $event})" ng-if="calEvent.calendarFlag == 1 && calEvent.calendarStatus == 2"> <div class="icon ori-low"></div> <div class="cal-year-qz-content qz-word-color1 cal-year-content-width cal-year-hidden-point"> <span title={{calEvent.title}} ng-bind-html="calEvent.calendarTitle | calendarTrustAsHtml"></span> </div> </div> <div class="cal-year-sub-div20 cal-ori-low cal-year-hidden-point year-day-div-width365 year-day-div-height49" ng-click="vm.onEventClick({calendarEvent: calEvent, eventEl : $event})" ng-if="calEvent.calendarFlag == 1 && calEvent.calendarStatus == 4"> <div class="icon ori-high"></div> <div class="cal-year-qz-content qz-word-color2 cal-year-content-width cal-year-hidden-point"> <span title={{calEvent.title}} ng-bind-html="calEvent.calendarTitle | calendarTrustAsHtml"></span> </div> </div> </div> </div> </div> <div class=cal-day-box> <div class=cal-day-panel ng-style="{height: vm.dayViewHeight + \'px\', minWidth: vm.viewWidth + \'px\'}"> <mwl-calendar-hour-list day-view-start=vm.dayViewStart day-view-end=vm.dayViewEnd day-view-split=vm.dayViewSplit on-timespan-click=vm.onTimespanClick on-date-range-select=vm.onDateRangeSelect on-event-times-changed=vm.onEventTimesChanged view-date=vm.viewDate custom-template-urls=vm.customTemplateUrls template-scope=vm.templateScope cell-modifier=vm.cellModifier view=day> </mwl-calendar-hour-list> <div class="pull-left day-event day-highlight" ng-repeat="dayEvent in vm.nonAllDayEvents track by dayEvent.event.calendarEventId" ng-class=dayEvent.event.cssClass ng-style="{\r\n        top: dayEvent.top - 1 + \'px\',\r\n        left: dayEvent.left +  vm.dayViewTimePositionOffset + \'px\',\r\n        height: dayEvent.height + \'px\',\r\n        width: dayEvent.width + \'px\',\r\n        backgroundColor: dayEvent.event.color.secondary\r\n      }" mwl-draggable="dayEvent.event.draggable === true" axis="\'xy\'" snap-grid="{y: vm.dayViewEventChunkSize || 30, x: 50}" on-drag="vm.eventDragged(dayEvent.event, y / (vm.dayViewSegmentSize || 30))" on-drag-end="vm.eventDragComplete(dayEvent.event, y / (vm.dayViewSegmentSize ||  30))" auto-scroll=vm.draggableAutoScroll mwl-resizable="dayEvent.event.resizable === true && dayEvent.event.endsAt" resize-edges="{top: true, bottom: true}" on-resize="vm.eventResized(dayEvent.event, edge, y / (vm.dayViewSegmentSize || 30))" on-resize-end="vm.eventResizeComplete(dayEvent.event, edge, y / (vm.dayViewSegmentSize || 30))" uib-tooltip-html="vm.calendarEventTitle.dayViewTooltip(dayEvent.event) | calendarTrustAsHtml" tooltip-append-to-body=true> <span class=cal-hours> <span ng-bind="(dayEvent.event.tempStartsAt || dayEvent.event.startsAt) | calendarDate:\'time\':true"></span> ~ <span ng-bind="(dayEvent.event.tempStartsAt || dayEvent.event.endsAt) | calendarDate:\'time\':true"></span> </span> <a href=javascript:; class=event-item ng-click="vm.onEventClick({calendarEvent: dayEvent.event})"> <span ng-bind-html="vm.calendarEventTitle.dayView(dayEvent.event) | calendarTrustAsHtml"></span> </a> <a ng-show=true href=javascript:; class=event-item-action ng-repeat="action in dayEvent.event.actions track by $index" ng-class=action.cssClass ng-bind-html="action.label | calendarTrustAsHtml" ng-click="action.onClick({calendarEvent: dayEvent.event})"> </a> <span style=word-break:normal;width:100%;display:block;margin-top:12px;word-wrap:break-word;overflow:hidden> <span ng-show=dayEvent.event.calendarTitle title={{dayEvent.event.calendarTitle}} style=color:#2f3e4b;font-weight:600 ng-bind-html="dayEvent.event.calendarTitle | calendarTrustAsHtml"> </span> <br><br> <span ng-show=dayEvent.event.calendarTitle title={{dayEvent.event.calendarPubSub}} style=color:#2f3e4b;font-weight:400> {{dayEvent.event.calendarPubSub}} </span> </span> </div> </div> </div> '},function(e,t){e.exports=' <div class=cal-day-panel-hour> <div class=cal-day-hour ng-repeat="hour in vm.hourGrid track by $index"> <div class=cal-day-hour-part ng-repeat="segment in hour.segments track by $index" ng-class="[{ \'cal-day-hour-part-selected\': vm.dateRangeSelect &&\r\n                vm.dateRangeSelect.startDate <= segment.date &&\r\n                segment.date < vm.dateRangeSelect.endDate }, segment.cssClass]" ng-click="vm.onTimespanClick({calendarDate: segment.date})" mwl-droppable on-drop="vm.eventDropped(dropData.event, segment.date)" mwl-drag-select=!!vm.onDateRangeSelect on-drag-select-start=vm.onDragSelectStart(segment.date) on-drag-select-move=vm.onDragSelectMove(segment.nextSegmentDate) on-drag-select-end=vm.onDragSelectEnd(segment.nextSegmentDate) ng-if=!vm.dayWidth> <div class=cal-day-hour-part-time> <strong ng-bind="segment.date | calendarDate:\'dayHour\':true" ng-show=segment.isStart></strong> </div> </div> <div class=cal-day-hour-part ng-repeat="segment in hour.segments track by $index" ng-if=vm.dayWidth> <div class=cal-day-hour-part-time> <strong ng-bind="segment.date | calendarDate:\'hour\':true" ng-show=segment.isStart></strong> &nbsp; </div> <div class=cal-day-hour-part-spacer ng-repeat="day in segment.days track by $index" ng-style="{width: (vm.dayWidth - ($last ? vm.scrollBarWidth : 0)) + \'px\'}" ng-class="[{ \'cal-day-hour-part-selected\': vm.dateRangeSelect &&\r\n                vm.dateRangeSelect.startDate <= day.date &&\r\n                day.date < vm.dateRangeSelect.endDate }, day.cssClass]" ng-click="vm.onTimespanClick({calendarDate: day.date})" mwl-droppable on-drop="vm.eventDropped(dropData.event, day.date)" mwl-drag-select=!!vm.onDateRangeSelect on-drag-select-start=vm.onDragSelectStart(day.date) on-drag-select-move=vm.onDragSelectMove(day.nextSegmentDate) on-drag-select-end=vm.onDragSelectEnd(day.nextSegmentDate)> </div> </div> </div> </div> '},function(e,t){e.exports='<div mwl-droppable on-drop="vm.handleEventDrop(dropData.event, day.date, dropData.draggedFromDate)" mwl-drag-select=!!vm.onDateRangeSelect on-drag-select-start=vm.onDragSelectStart(day) on-drag-select-move=vm.onDragSelectMove(day) on-drag-select-end=vm.onDragSelectEnd(day) class="cal-month-day {{ day.cssClass }}" ng-click="$event.stopPropagation();(!day.events || day.events.length == 0) && vm.dayClicked(day, false, $event)" ng-class="{\r\n    \'cal-day-outmonth\': !day.inMonth,\r\n    \'cal-day-inmonth\': day.inMonth,\r\n    \'cal-day-weekend\': day.isWeekend,\r\n    \'cal-day-past\': day.isPast,\r\n    \'cal-day-future\': day.isFuture,\r\n    \'cal-day-selected\': vm.dateRangeSelect && vm.dateRangeSelect.startDate <= day.date && day.date <= vm.dateRangeSelect.endDate,\r\n    \'cal-day-open\': dayIndex === vm.openDayIndex\r\n  }"> <div class=top-area> <span class=pull-left data-cal-date ng-click=vm.calendarCtrl.dateClicked(day.date) ng-bind=day.label> </span> <div ng-repeat="calEvent in day.events | orderBy:\'startsAt\' track by calEvent.calendarEventId" ng-if=day.inMonth class=data-cal-events> <div class="data-cal-events-1 published" mwl-draggable="calEvent.draggable === true" drop-data="{event: calEvent, draggedFromDate: day.date.toDate()}" auto-scroll=vm.draggableAutoScroll ng-click="vm.onEventClick({calendarEvent: calEvent, eventEl : $event})" ng-if="calEvent.calendarFlag == 3 && calEvent.calendarStatus == 1"> <div class=cal-events-title> <span class=icon></span> <div class=cal-events-title title={{calEvent.title}} ng-bind-html="calEvent.calendarTitle | calendarTrustAsHtml"></div> </div> <div class=cal-events-content> <span title={{calEvent.calendarPubSub}} ng-bind=calEvent.calendarPubSub></span> <span class=pull-right title={{calEvent.calendarPubDate}} ng-bind=calEvent.calendarPubDate></span> </div> </div> <div class="data-cal-events-1 normal" mwl-draggable="calEvent.draggable === true" drop-data="{event: calEvent, draggedFromDate: day.date.toDate()}" auto-scroll=vm.draggableAutoScroll ng-click="vm.onEventClick({calendarEvent: calEvent, eventEl : $event})" ng-if="calEvent.calendarFlag == 3 && calEvent.calendarStatus == 4"> <div class=cal-events-title title={{calEvent.title}} ng-bind-html="calEvent.calendarTitle | calendarTrustAsHtml"></div> <div class=cal-events-content> <span title={{calEvent.calendarPubSub}} ng-bind=calEvent.calendarPubSub></span> <span class=pull-right title={{calEvent.calendarPubDate}} ng-bind=calEvent.calendarPubDate></span> </div> </div> <div class="data-cal-events-2 expired-finished" mwl-draggable="calEvent.draggable === true" drop-data="{event: calEvent, draggedFromDate: day.date.toDate()}" auto-scroll=vm.draggableAutoScroll ng-click="vm.onEventClick({calendarEvent: calEvent})" ng-if="calEvent.calendarFlag == 2 && calEvent.calendarStatus == 1"> <span class=icon></span> <div class=cal-events-title> <span title={{calEvent.title}} ng-bind-html="calEvent.calendarTitle | calendarTrustAsHtml"></span> </div> </div> <div class="data-cal-events-2 expired-unfinished" mwl-draggable="calEvent.draggable === true" drop-data="{event: calEvent, draggedFromDate: day.date.toDate()}" auto-scroll=vm.draggableAutoScroll ng-click="vm.onEventClick({calendarEvent: calEvent})" ng-if="calEvent.calendarFlag == 2 && calEvent.calendarStatus == 2"> <span class=icon></span> <div class=cal-events-title> <span title={{calEvent.title}} ng-bind-html="calEvent.calendarTitle | calendarTrustAsHtml"></span> </div> </div> <div class="data-cal-events-2 expiring" mwl-draggable="calEvent.draggable === true" drop-data="{event: calEvent, draggedFromDate: day.date.toDate()}" auto-scroll=vm.draggableAutoScroll ng-click="vm.onEventClick({calendarEvent: calEvent})" ng-if="calEvent.calendarFlag == 2 && calEvent.calendarStatus == 4"> <span class=icon></span> <div class=cal-events-title> <span title={{calEvent.title}} ng-bind-html="calEvent.calendarTitle | calendarTrustAsHtml"></span> </div> </div> <div class="data-cal-events-3 expired" mwl-draggable="calEvent.draggable === true" drop-data="{event: calEvent, draggedFromDate: day.date.toDate()}" auto-scroll=vm.draggableAutoScroll ng-click="vm.onEventClick({calendarEvent: calEvent})" ng-if="calEvent.calendarFlag == 1 && calEvent.calendarStatus == 2"> <span class=icon></span> <div class=cal-events-title> <span title={{calEvent.title}} ng-bind-html="calEvent.calendarTitle | calendarTrustAsHtml"></span> </div> </div> <div class="data-cal-events-3 normal" mwl-draggable="calEvent.draggable === true" drop-data="{event: calEvent, draggedFromDate: day.date.toDate()}" auto-scroll=vm.draggableAutoScroll ng-click="vm.onEventClick({calendarEvent: calEvent})" ng-if="calEvent.calendarFlag == 1 && calEvent.calendarStatus == 4"> <span class=icon></span> <div class=cal-events-title> <span title={{calEvent.title}} ng-bind-html="calEvent.calendarTitle | calendarTrustAsHtml"></span> </div> </div> </div> </div> <div class=triangle-down ng-if="day.events && day.events.length > 0" ng-click="$event.stopPropagation();vm.dayClicked(day, false, $event)"></div> </div> '},function(e,t){e.exports='<div class=events-list ng-show="day.events.length > 0"> <a ng-repeat="event in day.events | orderBy:\'startsAt\' track by event.calendarEventId" href=javascript:; ng-click="$event.stopPropagation(); vm.onEventClick({calendarEvent: event})" class="pull-left event" ng-class=event.cssClass ng-style="{backgroundColor: event.color.primary}" ng-mousedown=$event.stopPropagation() ng-mouseenter="vm.highlightEvent(event, true)" ng-mouseleave="vm.highlightEvent(event, false)" tooltip-append-to-body=true uib-tooltip-html="vm.calendarEventTitle.monthViewTooltip(event) | calendarTrustAsHtml" mwl-draggable="event.draggable === true" drop-data="{event: event, draggedFromDate: day.date.toDate()}" auto-scroll=vm.draggableAutoScroll> </a> </div> '},function(e,t){e.exports='<div class=cal-month-box ng-class="[\'cal-grid-\' + vm.weekDays.length]"> <div class="cal-row-fluid cal-row-head"> <div class=cal-cell1 ng-repeat="day in vm.weekDays track by $index" ng-bind=day></div> </div> <div ng-repeat="rowOffset in vm.monthOffsets track by rowOffset" ng-mouseenter="rowHovered = true" ng-mouseleave="rowHovered = false"> <div class="cal-row-fluid cal-before-eventlist"> <div ng-repeat="day in vm.view | calendarLimitTo:vm.weekDays.length:rowOffset track by $index" ng-init="dayIndex = vm.view.indexOf(day)" class="cal-cell1 cal-cell {{ day.highlightClass }}" ng-style="{backgroundColor: day.backgroundColor}" ng-class="{pointer: day.events.length > 0}"> <ng-include src="vm.customTemplateUrls.calendarMonthCell || vm.calendarConfig.templates.calendarMonthCell"></ng-include> </div> </div> <mwl-calendar-slide-box is-open="vm.openRowIndex === $index && (vm.cellAutoOpenDisabled || vm.view[vm.openDayIndex].events.length > 0) && !vm.slideBoxDisabled" events=vm.view[vm.openDayIndex].events on-event-click=vm.onEventClick cell=vm.view[vm.openDayIndex] custom-template-urls=vm.customTemplateUrls template-scope=vm.templateScope draggable-auto-scroll=vm.draggableAutoScroll row-index=vm.openRowIndex col-index=vm.openDayIndex label=vm.view[vm.openDayIndex].label style=width:12%> </mwl-calendar-slide-box> </div> </div> '},function(e,t){e.exports='<div class=cal-slide-box ng-if="vm.rowIndex != undefined && vm.colIndex != undefined" ng-class="[\'row-\' + vm.rowIndex,  \'col-\' + vm.colIndex % 7]" uib-collapse=vm.isCollapsed mwl-collapse-fallback=vm.isCollapsed> <div class="cal-slide-content cal-event-list"> <ul class="unstyled list-unstyled"> <div class=month-label ng-bind=vm.label></div> <li ng-repeat="event in vm.events | orderBy:\'startsAt\' track by event.calendarEventId" ng-class=event.cssClass ng-mousedown=$event.stopPropagation() mwl-draggable="event.draggable === true" drop-data="{event: event}" auto-scroll=vm.draggableAutoScroll> <div class="data-cal-events-1 published" mwl-draggable="event.draggable === true" drop-data="{event: event, draggedFromDate: day.date.toDate()}" auto-scroll=vm.draggableAutoScroll ng-click="vm.onEventClick({calendarEvent: event})" ng-if="event.calendarFlag == 3 && event.calendarStatus == 1"> <div class=cal-events-title> <span class=icon></span> <div class=cal-events-title title={{event.calendarTitle}} ng-bind=event.calendarTitle></div> </div> <div class=cal-events-content> <span title={{event.calendarPubSub}} ng-bind=event.calendarPubSub></span> <span class=pull-right title={{event.calendarPubDate}} ng-bind=event.calendarPubDate></span> </div> </div> <div class="data-cal-events-1 normal" mwl-draggable="event.draggable === true" drop-data="{event: event, draggedFromDate: day.date.toDate()}" auto-scroll=vm.draggableAutoScroll ng-click="vm.onEventClick({calendarEvent: event})" ng-if="event.calendarFlag == 3 && event.calendarStatus == 4"> <div class=cal-events-title title={{event.calendarTitle}} ng-bind=event.calendarTitle></div> <div class=cal-events-content> <span title={{event.calendarPubSub}} ng-bind=event.calendarPubSub></span> <span class=pull-right title={{event.calendarPubDate}} ng-bind=event.calendarPubDate></span> </div> </div> <div class="data-cal-events-2 expired-finished" mwl-draggable="event.draggable === true" drop-data="{event: event, draggedFromDate: day.date.toDate()}" auto-scroll=vm.draggableAutoScroll ng-click="vm.onEventClick({calendarEvent: event})" ng-if="event.calendarFlag == 2 && event.calendarStatus == 1"> <span class=icon></span> <div class=cal-events-title> <span title={{event.calendarTitle}} ng-bind=event.calendarTitle></span> </div> </div> <div class="data-cal-events-2 expired-unfinished" mwl-draggable="event.draggable === true" drop-data="{event: event, draggedFromDate: day.date.toDate()}" auto-scroll=vm.draggableAutoScroll ng-click="vm.onEventClick({calendarEvent: event})" ng-if="event.calendarFlag == 2 && event.calendarStatus == 2"> <span class=icon></span> <div class=cal-events-title> <span title={{event.calendarTitle}} ng-bind=event.calendarTitle></span> </div> </div> <div class="data-cal-events-2 expiring" mwl-draggable="event.draggable === true" drop-data="{event: event, draggedFromDate: day.date.toDate()}" auto-scroll=vm.draggableAutoScroll ng-click="vm.onEventClick({calendarEvent: event})" ng-if="event.calendarFlag == 2 && event.calendarStatus == 4"> <span class=icon></span> <div class=cal-events-title> <span title={{event.calendarTitle}} ng-bind=event.calendarTitle></span> </div> </div> <div class="data-cal-events-3 expired" mwl-draggable="event.draggable === true" drop-data="{event: event, draggedFromDate: day.date.toDate()}" auto-scroll=vm.draggableAutoScroll ng-click="vm.onEventClick({calendarEvent: event})" ng-if="event.calendarFlag == 1 && event.calendarStatus == 2"> <span class=icon></span> <div class=cal-events-title> <span title={{event.calendarTitle}} ng-bind=event.calendarTitle></span> </div> </div> <div class="data-cal-events-3 normal" mwl-draggable="event.draggable === true" drop-data="{event: event, draggedFromDate: day.date.toDate()}" auto-scroll=vm.draggableAutoScroll ng-click="vm.onEventClick({calendarEvent: event})" ng-if="event.calendarFlag == 1 && event.calendarStatus == 4"> <span class=icon></span> <div class=cal-events-title> <span title={{event.calendarTitle}} ng-bind=event.calendarTitle></span> </div> </div> </li> </ul> </div> </div> '},function(e,t){e.exports='<div class=cal-week-box ng-class="[{\'cal-day-box\': vm.showTimes}, \'cal-grid-\' + vm.view.days.length]" style=min-height:720px> <div class="cal-row-fluid cal-row-head" mwl-element-dimensions=vm.dayColumnDimensions> <div class=cal-cell1 ng-repeat="day in vm.view.days track by $index" ng-class="{\r\n        \'cal-day-weekend\': day.isWeekend,\r\n        \'cal-day-past\': day.isPast,\r\n        \'cal-day-today\': day.isToday,\r\n        \'cal-day-future\': day.isFuture}" mwl-droppable on-drop="vm.eventDropped(dropData.event, day.date)" style="border-right:1px solid #dee3e5"> <span ng-bind=day.weekDayLabel></span> <br> <small> <span data-cal-date ng-click=vm.calendarCtrl.dateClicked(day.date) class=pointer ng-bind=day.dayLabel> </span> </small> </div> </div> <div class=cal-day-panel ng-style="{height: vm.showTimes ? (vm.dayViewHeight + \'px\') : \'auto\'}" style=width:100%> <mwl-calendar-hour-list day-view-start=vm.dayViewStart day-view-end=vm.dayViewEnd day-view-split=vm.dayViewSplit day-width="(vm.dayColumnDimensions.width - 60) / vm.view.days.length" view-date=vm.viewDate on-timespan-click=vm.onTimespanClick on-date-range-select=vm.onDateRangeSelect custom-template-urls=vm.customTemplateUrls cell-modifier=vm.cellModifier template-scope=vm.templateScope view=week ng-if=vm.showTimes> </mwl-calendar-hour-list> <div class=row ng-repeat="row in vm.view.eventRows track by $index"> <div class=col-xs-12> <div class=cal-row-fluid> <div ng-repeat="eventRow in row.row track by eventRow.event.calendarEventId" ng-class="\'cal-cell\' + (vm.showTimes ? 1 : eventRow.span) + (vm.showTimes ? \'\' : \' cal-offset\' + eventRow.offset)" ng-style="{\r\n              top: vm.showTimes ? ((eventRow.top) + \'px\') : \'auto\',\r\n              position: vm.showTimes ? \'absolute\' : \'inherit\',\r\n              width: vm.showTimes ? ((vm.dayColumnDimensions.width - 60) / vm.view.days.length + \'px\') : \'\',\r\n              left: vm.showTimes ? (((vm.dayColumnDimensions.width - 60) / vm.view.days.length) * eventRow.offset) + 15 + \'px\' : \'\'\r\n            }"> <div class="day-highlight calendarFlagBg3" ng-if="eventRow.event.calendarFlag == 3 && eventRow.event.calendarStatus == 1" ng-class="[eventRow.event.cssClass, !vm.showTimes && eventRow.startsBeforeWeek ? \'\' : \'border-left-rounded\', !vm.showTimes && eventRow.endsAfterWeek ? \'\' : \'border-right-rounded\']" data-event-class style="border-radius:2px;height:49px;margin-top:4px;background:rgba(36,161,72,.15);border-left:2px solid #4fb36c" mwl-draggable="eventRow.event.draggable === true" axis="vm.showTimes ? \'xy\' : \'x\'" snap-grid="vm.showTimes ? {x: (vm.dayColumnDimensions.width - 60) / vm.view.days.length, y: vm.dayViewEventChunkSize || 30} : {x: vm.dayColumnDimensions.width / vm.view.days.length}" auto-scroll=vm.draggableAutoScroll on-drag="vm.tempTimeChanged(eventRow.event, y / 30)" on-drag-end="vm.weekDragged(eventRow.event, x / ((vm.dayColumnDimensions.width - (vm.showTimes ? 60 : 0)) / vm.view.days.length), y / 30)" mwl-resizable="eventRow.event.resizable === true && eventRow.event.endsAt && !vm.showTimes"> <div class="icon green-low"></div> <div class=calendarFlagBg_title style=margin-top:4px> {{eventRow.event.calendarTitle}} 222 </div> <div class=calendarFlagBg3_content> <span style=width:80%>{{eventRow.event.calendarPubSub}}</span> <span style=width:20%;float:right>{{eventRow.event.calendarPubDate}}</span> <a href=javascript:; class=event-item-action ng-class=action.cssClass ng-repeat="action in eventRow.event.actions track by $index" ng-bind-html="action.label | calendarTrustAsHtml" ng-click="action.onClick({calendarEvent: eventRow.event})"> </a> </div> </div> <div class=day-highlight ng-if="eventRow.event.calendarFlag == 3 && eventRow.event.calendarStatus == 4" ng-class="[eventRow.event.cssClass, !vm.showTimes && eventRow.startsBeforeWeek ? \'\' : \'border-left-rounded\', !vm.showTimes && eventRow.endsAfterWeek ? \'\' : \'border-right-rounded\']" style="border-radius:2px;height:49px;margin-top:4px;background:rgba(36,161,72,.15);border-left:2px solid rgba(36,161,72,.15)" data-event-class mwl-draggable="eventRow.event.draggable === true" axis="vm.showTimes ? \'xy\' : \'x\'" snap-grid="vm.showTimes ? {x: (vm.dayColumnDimensions.width - 60) / vm.view.days.length, y: vm.dayViewEventChunkSize || 30} : {x: vm.dayColumnDimensions.width / vm.view.days.length}" auto-scroll=vm.draggableAutoScroll on-drag="vm.tempTimeChanged(eventRow.event, y / 30)" on-drag-end="vm.weekDragged(eventRow.event, x / ((vm.dayColumnDimensions.width - (vm.showTimes ? 60 : 0)) / vm.view.days.length), y / 30)" mwl-resizable="eventRow.event.resizable === true && eventRow.event.endsAt && !vm.showTimes"> <div class="icon green-low"></div> <div class="cal-year-qz-word qz-word-color1 cal-year-content-width" style=margin-top:4px> {{eventRow.event.calendarTitle}} </div> <div class="cal-year-qz-word qz-word-color1 cal-year-content-width"> <span style=width:80%>{{eventRow.event.calendarPubSub}}</span> <span style=width:20%;float:right>{{eventRow.event.calendarPubDate}}</span> <a href=javascript:; class=event-item-action ng-class=action.cssClass ng-repeat="action in eventRow.event.actions track by $index" ng-bind-html="action.label | calendarTrustAsHtml" ng-click="action.onClick({calendarEvent: eventRow.event})"> </a> </div> </div> <div class=day-highlight ng-if="eventRow.event.calendarFlag == 2 && eventRow.event.calendarStatus == 1" ng-class="[eventRow.event.cssClass, !vm.showTimes && eventRow.startsBeforeWeek ? \'\' : \'border-left-rounded\', !vm.showTimes && eventRow.endsAfterWeek ? \'\' : \'border-right-rounded\']" style="border-radius:2px;height:20px;margin-top:4px;background:rgba(54,168,199,.15);border-left:2px solid #5eb9d2" data-event-class mwl-draggable="eventRow.event.draggable === true" axis="vm.showTimes ? \'xy\' : \'x\'" snap-grid="vm.showTimes ? {x: (vm.dayColumnDimensions.width - 60) / vm.view.days.length, y: vm.dayViewEventChunkSize || 30} : {x: vm.dayColumnDimensions.width / vm.view.days.length}" auto-scroll=vm.draggableAutoScroll on-drag="vm.tempTimeChanged(eventRow.event, y / 30)" on-drag-end="vm.weekDragged(eventRow.event, x / ((vm.dayColumnDimensions.width - (vm.showTimes ? 60 : 0)) / vm.view.days.length), y / 30)" mwl-resizable="eventRow.event.resizable === true && eventRow.event.endsAt && !vm.showTimes" resize-edges="{left: true, right: true}" on-resize-end="vm.weekResized(eventRow.event, edge, x / ((vm.dayColumnDimensions.width - (vm.showTimes ? 60 : 0)) / vm.view.days.length))"> <div class="icon blue-low"></div> <div class=calendarFlagBg_title> <span title={{eventRow.event.calendarTitle}}>{{eventRow.event.calendarTitle}}</span> <a href=javascript:; class=event-item-action ng-class=action.cssClass ng-repeat="action in eventRow.event.actions track by $index" ng-bind-html="action.label | calendarTrustAsHtml" ng-click="action.onClick({calendarEvent: eventRow.event})"> </a> </div> </div> <div class=day-highlight ng-if="eventRow.event.calendarFlag == 2 && eventRow.event.calendarStatus == 4" ng-class="[eventRow.event.cssClass, !vm.showTimes && eventRow.startsBeforeWeek ? \'\' : \'border-left-rounded\', !vm.showTimes && eventRow.endsAfterWeek ? \'\' : \'border-right-rounded\']" style="border-radius:2px;height:20px;margin-top:4px;background:rgba(54,168,199,.15);border-left:2px solid rgba(54,168,199,.15)" data-event-class mwl-draggable="eventRow.event.draggable === true" axis="vm.showTimes ? \'xy\' : \'x\'" snap-grid="vm.showTimes ? {x: (vm.dayColumnDimensions.width - 60) / vm.view.days.length, y: vm.dayViewEventChunkSize || 30} : {x: vm.dayColumnDimensions.width / vm.view.days.length}" auto-scroll=vm.draggableAutoScroll on-drag="vm.tempTimeChanged(eventRow.event, y / 30)" on-drag-end="vm.weekDragged(eventRow.event, x / ((vm.dayColumnDimensions.width - (vm.showTimes ? 60 : 0)) / vm.view.days.length), y / 30)" mwl-resizable="eventRow.event.resizable === true && eventRow.event.endsAt && !vm.showTimes" resize-edges="{left: true, right: true}" on-resize-end="vm.weekResized(eventRow.event, edge, x / ((vm.dayColumnDimensions.width - (vm.showTimes ? 60 : 0)) / vm.view.days.length))"> <div class="icon blue-low"></div> <div class="cal-year-qz-word qz-word-color1 cal-year-content-width"> <span title={{eventRow.event.calendarTitle}}>{{eventRow.event.calendarTitle}}</span> <a href=javascript:; class=event-item-action ng-class=action.cssClass ng-repeat="action in eventRow.event.actions track by $index" ng-bind-html="action.label | calendarTrustAsHtml" ng-click="action.onClick({calendarEvent: eventRow.event})"> </a> </div> </div> <div class=day-highlight ng-if="eventRow.event.calendarFlag == 1 && eventRow.event.calendarStatus == 2" ng-class="[eventRow.event.cssClass, !vm.showTimes && eventRow.startsBeforeWeek ? \'\' : \'border-left-rounded\', !vm.showTimes && eventRow.endsAfterWeek ? \'\' : \'border-right-rounded\']" style="border-radius:2px;height:20px;margin-top:4px;background:rgba(255,154,61,.15);border-left:2px solid #ffae63" data-event-class mwl-draggable="eventRow.event.draggable === true" axis="vm.showTimes ? \'xy\' : \'x\'" snap-grid="vm.showTimes ? {x: (vm.dayColumnDimensions.width - 60) / vm.view.days.length, y: vm.dayViewEventChunkSize || 30} : {x: vm.dayColumnDimensions.width / vm.view.days.length}" auto-scroll=vm.draggableAutoScroll on-drag="vm.tempTimeChanged(eventRow.event, y / 30)" on-drag-end="vm.weekDragged(eventRow.event, x / ((vm.dayColumnDimensions.width - (vm.showTimes ? 60 : 0)) / vm.view.days.length), y / 30)" mwl-resizable="eventRow.event.resizable === true && eventRow.event.endsAt && !vm.showTimes" resize-edges="{left: true, right: true}" on-resize-end="vm.weekResized(eventRow.event, edge, x / ((vm.dayColumnDimensions.width - (vm.showTimes ? 60 : 0)) / vm.view.days.length))"> <div class="icon blue-low"></div> <div class=calendarFlagBg_title> <span title={{eventRow.event.calendarTitle}}>{{eventRow.event.calendarTitle}}</span> <a href=javascript:; class=event-item-action ng-class=action.cssClass ng-repeat="action in eventRow.event.actions track by $index" ng-bind-html="action.label | calendarTrustAsHtml" ng-click="action.onClick({calendarEvent: eventRow.event})"> </a> </div> </div> <div class=day-highlight ng-if="eventRow.event.calendarFlag == 1 && eventRow.event.calendarStatus == 4" ng-class="[eventRow.event.cssClass, !vm.showTimes && eventRow.startsBeforeWeek ? \'\' : \'border-left-rounded\', !vm.showTimes && eventRow.endsAfterWeek ? \'\' : \'border-right-rounded\']" style="border-radius:2px;height:20px;margin-top:4px;background:rgba(255,154,61,.15);border-left:2px solid rgba(255,154,61,.15)" data-event-class mwl-draggable="eventRow.event.draggable === true" axis="vm.showTimes ? \'xy\' : \'x\'" snap-grid="vm.showTimes ? {x: (vm.dayColumnDimensions.width - 60) / vm.view.days.length, y: vm.dayViewEventChunkSize || 30} : {x: vm.dayColumnDimensions.width / vm.view.days.length}" auto-scroll=vm.draggableAutoScroll on-drag="vm.tempTimeChanged(eventRow.event, y / 30)" on-drag-end="vm.weekDragged(eventRow.event, x / ((vm.dayColumnDimensions.width - (vm.showTimes ? 60 : 0)) / vm.view.days.length), y / 30)" mwl-resizable="eventRow.event.resizable === true && eventRow.event.endsAt && !vm.showTimes" resize-edges="{left: true, right: true}" on-resize-end="vm.weekResized(eventRow.event, edge, x / ((vm.dayColumnDimensions.width - (vm.showTimes ? 60 : 0)) / vm.view.days.length))"> <div class="icon blue-low"></div> <div class="cal-year-qz-word qz-word-color1 cal-year-content-width"> <span title={{eventRow.event.calendarTitle}}>{{eventRow.event.calendarTitle}}</span> <a href=javascript:; class=event-item-action ng-class=action.cssClass ng-repeat="action in eventRow.event.actions track by $index" ng-bind-html="action.label | calendarTrustAsHtml" ng-click="action.onClick({calendarEvent: eventRow.event})"> </a> </div> </div> </div> </div> </div> </div> </div> </div> '},function(e,t){e.exports=' <div class=cal-year-box> <div style=overflow-x:auto> <div class="row cal-before-eventlist" style=float:left;display:flex> <div style=min-height:720px class="span3 cal-year-div-qz cal-cell {{ day.cssClass }}" ng-repeat="month in vm.view" ng-init="monthIndex = vm.view.indexOf(month)" ng-click="vm.monthClicked(month, false, $event)" ng-style="{\'width\': vm.getDivQzWidth() + \'%\'}" mwl-droppable on-drop="vm.handleEventDrop(dropData.event, month.date)"> <div style=width:100%;height:49px;text-align:center;padding-top:15px ng-class="{pointer: month.events.length > 0, \'cal-day-today\': month.isToday}"> <span data-cal-date ng-click=vm.calendarCtrl.dateClicked(month.date) ng-bind=month.label> </span> </div> <div ng-repeat="calEvent in month.events"> <div class="cal-year-hidden-point cal-year-sub-div49 cal-green-low" ng-click="vm.onEventClick({calendarEvent: calEvent, eventEl : $event})" ng-mousedown=$event.stopPropagation() mwl-draggable="calEvent.draggable === true" drop-data="{event: calEvent}" ng-if="calEvent.calendarFlag == 3 && calEvent.calendarStatus == 1"> <div class="icon green-low"></div> <div class="cal-year-qz-word qz-word-color1 cal-year-content-width cal-year-hidden-point" title={{calEvent.title}} style=margin-top:4px ng-bind-html="calEvent.calendarTitle | calendarTrustAsHtml"></div> <div class="cal-year-qz-word qz-word-color1 cal-year-content-width"> <span class=cal-year-hidden-point style=width:80%>{{calEvent.calendarPubSub}}</span> <span class=cal-year-hidden-point style=width:20%;float:right>{{calEvent.calendarPubDate}}</span> </div> </div> <div class="cal-year-hidden-point cal-year-sub-div49 cal-green-low" ng-click="vm.onEventClick({calendarEvent: calEvent, eventEl : $event})" ng-mousedown=$event.stopPropagation() mwl-draggable="calEvent.draggable === true" drop-data="{event: calEvent}" ng-if="calEvent.calendarFlag == 3 && calEvent.calendarStatus == 4"> <div class="icon green-high"></div> <div class="cal-year-qz-word qz-word-color2 cal-year-content-width cal-year-hidden-point" title={{calEvent.title}} style=margin-top:4px ng-bind-html="calEvent.calendarTitle | calendarTrustAsHtml"></div> <div class="cal-year-qz-word qz-word-color3 cal-year-content-width"> <span class=cal-year-hidden-point style=width:80%>{{calEvent.calendarPubSub}}</span> <span class=cal-year-hidden-point style=width:20%;float:right>{{calEvent.calendarPubDate}}</span> </div> </div> <div class="cal-year-hidden-point cal-year-sub-div20 cal-blue-low" ng-click="vm.onEventClick({calendarEvent: calEvent, eventEl : $event})" ng-mousedown=$event.stopPropagation() mwl-draggable="calEvent.draggable === true" drop-data="{event: calEvent}" ng-if="calEvent.calendarFlag == 2 && calEvent.calendarStatus == 1"> <div class="icon blue-low"></div> <div class="cal-year-qz-word qz-word-color1 cal-year-content-width cal-year-hidden-point"> <span title={{calEvent.title}} ng-bind-html="calEvent.calendarTitle | calendarTrustAsHtml"></span> </div> </div> <div class="cal-year-hidden-point cal-year-sub-div20 cal-red-low" ng-click="vm.onEventClick({calendarEvent: calEvent, eventEl : $event})" ng-mousedown=$event.stopPropagation() mwl-draggable="calEvent.draggable === true" drop-data="{event: calEvent}" ng-if="calEvent.calendarFlag == 2 && calEvent.calendarStatus == 2"> <div class="icon red-high"></div> <div class="cal-year-qz-word qz-word-color4 cal-year-content-width cal-year-hidden-point"> <span title={{calEvent.title}} ng-bind-html="calEvent.calendarTitle | calendarTrustAsHtml"></span> </div> </div> <div class="cal-year-hidden-point cal-year-sub-div20 cal-blue-low" ng-click="vm.onEventClick({calendarEvent: calEvent, eventEl : $event})" ng-mousedown=$event.stopPropagation() mwl-draggable="calEvent.draggable === true" drop-data="{event: calEvent}" ng-if="calEvent.calendarFlag == 2 && calEvent.calendarStatus == 4"> <div class="icon blue-high"></div> <div class="cal-year-qz-word qz-word-color2 cal-year-content-width cal-year-hidden-point"> <span title={{calEvent.title}} ng-bind-html="calEvent.calendarTitle | calendarTrustAsHtml"></span> </div> </div> <div class="cal-year-sub-div20 cal-ori-low cal-year-hidden-point" ng-click="vm.onEventClick({calendarEvent: calEvent, eventEl : $event})" ng-mousedown=$event.stopPropagation() mwl-draggable="calEvent.draggable === true" drop-data="{event: calEvent}" ng-if="calEvent.calendarFlag == 1 && calEvent.calendarStatus == 2"> <div class="icon ori-low"></div> <div class="cal-year-qz-word qz-word-color1 cal-year-content-width cal-year-hidden-point"> <span title={{calEvent.title}} ng-bind-html="calEvent.calendarTitle | calendarTrustAsHtml"></span> </div> </div> <div class="cal-year-sub-div20 cal-ori-low cal-year-hidden-point" ng-click="vm.onEventClick({calendarEvent: calEvent, eventEl : $event})" ng-mousedown=$event.stopPropagation() mwl-draggable="calEvent.draggable === true" drop-data="{event: calEvent}" ng-if="calEvent.calendarFlag == 1 && calEvent.calendarStatus == 4"> <div class="icon ori-high"></div> <div class="cal-year-qz-word qz-word-color2 cal-year-content-width cal-year-hidden-point"> <span title={{calEvent.title}} ng-bind-html="calEvent.calendarTitle | calendarTrustAsHtml"></span> </div> </div> </div> </div> </div> </div> </div>'},function(e,t,a){function n(e){return a(l(e))}function l(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./mwlCalendar.js":20,"./mwlCalendarDay.js":21,"./mwlCalendarHourList.js":22,"./mwlCalendarMonth.js":46,"./mwlCalendarSlideBox.js":47,"./mwlCalendarWeek.js":48,"./mwlCalendarYear.js":49,"./mwlCollapseFallback.js":50,"./mwlDateModifier.js":51,"./mwlDragSelect.js":52,"./mwlDraggable.js":53,"./mwlDroppable.js":54,"./mwlDynamicDirectiveTemplate.js":55,"./mwlElementDimensions.js":56,"./mwlResizable.js":57};n.keys=function(){return Object.keys(r)},n.resolve=l,e.exports=n,n.id=19},function(e,t,a){"use strict";var n=a(0),l="Bootstrap calendar:";n.module("mwl.calendar").controller("MwlCalendarCtrl",["$scope","$log","$timeout","$attrs","$locale","moment","calendarTitle","calendarHelper",function(e,t,a,r,i,d,o,s){d.locale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期天_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm分",LTS:"Ah点m分s秒",L:"YYYY-MM-DD",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日Ah点mm分",LLLL:"YYYY年MMMD日ddddAh点mm分",l:"YYYY-MM-DD",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日Ah点mm分",llll:"YYYY年MMMD日ddddAh点mm分"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"下午"===t||"晚上"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,a){return""},calendar:{sameDay:function(){return 0===this.minutes()?"[今天]Ah[点整]":"[今天]LT"},nextDay:function(){return 0===this.minutes()?"[明天]Ah[点整]":"[明天]LT"},lastDay:function(){return 0===this.minutes()?"[昨天]Ah[点整]":"[昨天]LT"},nextWeek:function(){var e,t;return e=d().startOf("week"),t=this.diff(e,"days")>=7?"[下]":"[本]",0===this.minutes()?t+"dddAh点整":t+"dddAh点mm"},lastWeek:function(){var e,t;return e=d().startOf("week"),t=this.unix()<e.unix()?"[上]":"[本]",0===this.minutes()?t+"dddAh点整":t+"dddAh点mm"},sameElse:"LL"},ordinalParse:/\d{1,2}(日|月|周)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},week:{dow:1,doy:4}});var c=this;c.changeView=function(e,t){c.view=e,c.viewDate=t},c.dateClicked=function(e){var t=d(e).toDate(),a={year:"month",month:"day",week:"day"};!1!==c.onViewChangeClick({calendarDate:t,calendarNextView:a[c.view]})&&c.changeView(a[c.view],t)},c.getContent=function(e){},c.$onInit=function(){function v(e){e.startsAt?n.isDate(e.startsAt)||t.warn(l,"Event startsAt should be a javascript date object. Do `new Date(event.startsAt)` to fix it.",e):t.warn(l,"Event is missing the startsAt field",e),e.endsAt&&(n.isDate(e.endsAt)||t.warn(l,"Event endsAt should be a javascript date object. Do `new Date(event.endsAt)` to fix it.",e),d(e.startsAt).isAfter(d(e.endsAt))&&t.warn(l,"Event cannot start after it finishes",e))}function m(){o[c.view]&&n.isDefined(r.viewTitle)&&(c.viewTitle=o[c.view](c.viewDate)),c.events.forEach(function(e,t){v(e),e.calendarEventId=t});var t=d(c.viewDate),l=!0;u.clone().startOf(c.view).isSame(t.clone().startOf(c.view))&&!u.isSame(t)&&c.view===g&&(l=!1),u=t,g=c.view,l&&a(function(){e.$broadcast("calendar.refreshView")})}c.slideBoxDisabled&&t.warn(l,"The `slide-box-disabled` option is deprecated and will be removed in the next release. Instead set `cell-auto-open-disabled` to true"),c.events=c.events||[],c.excludedDays=c.excludedDays||[];var u=d(c.viewDate),g=c.view;s.loadTemplates().then(function(){c.templatesLoaded=!0;var t=!1;e.$watchGroup(["vm.viewDate","vm.view","vm.cellIsOpen",function(){return d.locale()+i.id}],function(){t?m():(t=!0,e.$watch("vm.events",m,!0))})}).catch(function(e){t.error("Could not load all calendar templates",e)})},n.version.minor<5&&c.$onInit()}]).directive("mwlCalendar",function(){return{template:'<div mwl-dynamic-directive-template name="calendar" overrides="vm.customTemplateUrls"></div>',restrict:"E",scope:{events:"=",view:"=",viewTitle:"=?",viewDate:"=",cellIsOpen:"=?",cellAutoOpenDisabled:"=?",excludedDays:"=?",slideBoxDisabled:"=?",customTemplateUrls:"=?",draggableAutoScroll:"=?",onEventClick:"&",onEventTimesChanged:"&",onTimespanClick:"&",onDateRangeSelect:"&?",onViewChangeClick:"&",cellModifier:"&",yearViewStart:"=",yearViewEnd:"=",dayViewStart:"@",dayViewSegmentSize:"@",dayViewEnd:"@",dayViewSplit:"@",dayViewEventChunkSize:"@",dayViewEventWidth:"@",templateScope:"=?",dayViewTimePosition:"@"},controller:"MwlCalendarCtrl as vm",bindToController:!0}})},function(e,t,a){"use strict";var n=a(0);n.module("mwl.calendar").controller("MwlCalendarDayCtrl",["$scope","$window","$timeout","moment","calendarHelper","calendarEventTitle",function(e,t,a,l,r,i){function d(){o.showAllDayEventTips=!1,o.timeHidden="hidden"===o.dayViewTimePosition,o.dayViewTimePositionOffset="default"!==o.dayViewTimePosition?0:60,o.dayViewSplit=o.dayViewSplit||30,o.dayViewHeight=r.getDayViewHeight(o.dayViewStart,o.dayViewEnd,o.dayViewSplit,o.dayViewSegmentSize),n.forEach(o.events,function(e){var t=new Date(e.startsAt),a=new Date(e.endsAt),n=(a.getTime()-t.getTime())/1e3;if(parseInt(n/3600)>=24)e.allDay=!0;else{var l="";1==e.calendarFlag?l="rgba(36, 161, 72, 0.15)":2==e.calendarFlag?(l="rgba(54, 168, 199, 0.15)",2==e.calendarStatus&&(l="rgba(251, 105, 99, 0.15)")):3==e.calendarFlag&&(l="rgba(36, 161, 72, 0.15)");var r={secondary:l};e.color=r}});var e=r.getDayView(o.events,o.viewDate,o.dayViewStart,o.dayViewEnd,o.dayViewSplit,o.dayViewEventWidth,o.dayViewSegmentSize);o.allDayEvents=e.allDayEvents,o.nonAllDayEvents=e.events,o.viewWidth=e.width+62}var o=this;o.calendarEventTitle=i,e.$on("calendar.refreshView",d),e.$watchGroup(["vm.dayViewStart","vm.dayViewEnd","vm.dayViewSplit"],d),o.showAllDayOver=function(){a(function(){!0===o.showAllDayEventTips?o.showAllDayEventTips=!1:o.showAllDayEventTips=!0,e.$apply()},100)},t.onclick=function(t){t.srcElement&&-1===t.srcElement.className.indexOf("myShowClass")&&(o.showAllDayEventTips=!1,e.$apply())},o.eventDragComplete=function(e,t){var a=t*o.dayViewSplit,n=l(e.startsAt).add(a,"minutes"),r=l(e.endsAt).add(a,"minutes");delete e.tempStartsAt,o.onEventTimesChanged({calendarEvent:e,calendarNewEventStart:n.toDate(),calendarNewEventEnd:e.endsAt?r.toDate():null})},o.eventDragged=function(e,t){var a=t*o.dayViewSplit;e.tempStartsAt=l(e.startsAt).add(a,"minutes").toDate()},o.eventResizeComplete=function(e,t,a){var n=a*o.dayViewSplit,r=l(e.startsAt),i=l(e.endsAt);"start"===t?r.add(n,"minutes"):i.add(n,"minutes"),delete e.tempStartsAt,o.onEventTimesChanged({calendarEvent:e,calendarNewEventStart:r.toDate(),calendarNewEventEnd:i.toDate()})},o.eventResized=function(e,t,a){var n=a*o.dayViewSplit;"start"===t&&(e.tempStartsAt=l(e.startsAt).add(n,"minutes").toDate())}}]).directive("mwlCalendarDay",function(){return{template:'<div mwl-dynamic-directive-template name="calendarDayView" overrides="vm.customTemplateUrls"></div>',restrict:"E",require:"^mwlCalendar",scope:{events:"=",viewDate:"=",onEventClick:"=",onEventTimesChanged:"=",onTimespanClick:"=",onDateRangeSelect:"=",dayViewStart:"=",dayViewEnd:"=",dayViewSplit:"=",dayViewEventChunkSize:"=",dayViewSegmentSize:"=",dayViewEventWidth:"=",customTemplateUrls:"=?",cellModifier:"=",templateScope:"=",dayViewTimePosition:"=",draggableAutoScroll:"="},controller:"MwlCalendarDayCtrl as vm",bindToController:!0}})},function(e,t,a){"use strict";var n=a(0),l=a(4);n.module("mwl.calendar").controller("MwlCalendarHourListCtrl",["$scope","$document","moment","calendarHelper",function(e,t,a,n){function r(){i.dayViewSplit=parseInt(i.dayViewSplit);var e=(i.dayViewStart||"00:00").split(":"),t=(i.dayViewEnd||"23:59").split(":");i.hourGrid=l.getDayViewHourGrid({viewDate:"week"===i.view?a(i.viewDate).startOf("week").toDate():a(i.viewDate).toDate(),hourSegments:60/i.dayViewSplit,dayStart:{hour:e[0],minute:e[1]},dayEnd:{hour:t[0],minute:t[1]}}),i.hourGrid.forEach(function(e){e.segments.forEach(function(e){if(e.date=a(e.date),e.nextSegmentDate=e.date.clone().add(i.dayViewSplit,"minutes"),"week"===i.view){e.days=[];for(var t=0;t<7;t++){var n={date:a(e.date).add(t,"days")};n.nextSegmentDate=n.date.clone().add(i.dayViewSplit,"minutes"),i.cellModifier({calendarCell:n}),e.days.push(n)}}else i.cellModifier({calendarCell:e})})})}var i=this;i.scrollBarWidth=function(){var e=t[0].createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",t[0].body.appendChild(e);var a=e.offsetWidth;e.style.overflow="scroll";var n=t[0].createElement("div");n.style.width="100%",e.appendChild(n);var l=n.offsetWidth;return e.parentNode.removeChild(e),a-l}();var d=a.locale();e.$on("calendar.refreshView",function(){d!==a.locale()&&(d=a.locale(),r())}),e.$watchGroup(["vm.dayViewStart","vm.dayViewEnd","vm.dayViewSplit","vm.viewDate"],function(){r()}),i.eventDropped=function(e,t){var l=a(t),r=n.adjustEndDateFromStartDiff(e.startsAt,l,e.endsAt);i.onEventTimesChanged({calendarEvent:e,calendarDate:t,calendarNewEventStart:l.toDate(),calendarNewEventEnd:r?r.toDate():null})},i.onDragSelectStart=function(e,t){i.dateRangeSelect||(i.dateRangeSelect={active:!0,startDate:e,endDate:e,dayIndex:t})},i.onDragSelectMove=function(e){i.dateRangeSelect&&(i.dateRangeSelect.endDate=e)},i.onDragSelectEnd=function(e){i.dateRangeSelect&&(i.dateRangeSelect.endDate=e,i.dateRangeSelect.endDate>i.dateRangeSelect.startDate&&i.onDateRangeSelect({calendarRangeStartDate:i.dateRangeSelect.startDate.toDate(),calendarRangeEndDate:i.dateRangeSelect.endDate.toDate()}),delete i.dateRangeSelect)}}]).directive("mwlCalendarHourList",function(){return{restrict:"E",template:'<div mwl-dynamic-directive-template name="calendarHourList" overrides="vm.customTemplateUrls"></div>',controller:"MwlCalendarHourListCtrl as vm",scope:{viewDate:"=",dayViewStart:"=",dayViewEnd:"=",dayViewSplit:"=",dayWidth:"=?",onTimespanClick:"=",onDateRangeSelect:"=",onEventTimesChanged:"=",customTemplateUrls:"=?",cellModifier:"=",templateScope:"=",view:"@"},bindToController:!0}})},function(e,t,a){function n(e,t){var a=l(e),n=Number(t);return a.setDate(a.getDate()+n),a}var l=a(1);e.exports=n},function(e,t,a){function n(e,t){var a=Number(t);return l(e,a*r)}var l=a(2),r=36e5;e.exports=n},function(e,t,a){function n(e,t){var a=Number(t);return l(e,a*r)}var l=a(2),r=6e4;e.exports=n},function(e,t,a){function n(e,t){var a=Number(t);return l(e,1e3*a)}var l=a(2);e.exports=n},function(e,t,a){function n(e,t){var a=l(e),n=l(t),d=i(a,n),o=Math.abs(r(a,n));return a.setDate(a.getDate()-d*o),d*(o-(i(a,n)===-d))}var l=a(1),r=a(28),i=a(29);e.exports=n},function(e,t,a){function n(e,t){var a=l(e),n=l(t),d=a.getTime()-a.getTimezoneOffset()*r,o=n.getTime()-n.getTimezoneOffset()*r;return Math.round((d-o)/i)}var l=a(3),r=6e4,i=864e5;e.exports=n},function(e,t,a){function n(e,t){var a=l(e),n=a.getTime(),r=l(t),i=r.getTime();return n<i?-1:n>i?1:0}var l=a(1);e.exports=n},function(e,t,a){function n(e,t){var a=l(e,t)/r;return a>0?Math.floor(a):Math.ceil(a)}var l=a(6),r=6e4;e.exports=n},function(e,t,a){function n(e,t){var a=l(e,t)/1e3;return a>0?Math.floor(a):Math.ceil(a)}var l=a(6);e.exports=n},function(e,t,a){function n(e){var t=l(e);return t.setHours(23,59,59,999),t}var l=a(1);e.exports=n},function(e,t,a){function n(e){var t=l(e),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}var l=a(1);e.exports=n},function(e,t,a){function n(e,t){var a=t?Number(t.weekStartsOn)||0:0,n=l(e),r=n.getDay(),i=6+(r<a?-7:0)-(r-a);return n.setDate(n.getDate()+i),n.setHours(23,59,59,999),n}var l=a(1);e.exports=n},function(e,t,a){function n(e){return l(e).getDay()}var l=a(1);e.exports=n},function(e,t,a){function n(e,t){var a=l(e),n=l(t);return a.getTime()===n.getTime()}var l=a(3);e.exports=n},function(e,t,a){function n(e,t){var a=l(e),n=l(t);return a.getFullYear()===n.getFullYear()&&a.getMonth()===n.getMonth()}var l=a(1);e.exports=n},function(e,t,a){function n(e,t){var a=l(e),n=l(t);return a.getTime()===n.getTime()}var l=a(39);e.exports=n},function(e,t,a){function n(e){var t=l(e);return t.setMilliseconds(0),t}var l=a(1);e.exports=n},function(e,t,a){function n(){var e=Array.prototype.slice.call(arguments),t=e.map(function(e){return l(e)}),a=Math.max.apply(null,t);return new Date(a)}var l=a(1);e.exports=n},function(e,t,a){function n(e,t){var a=l(e),n=Number(t);return a.setHours(n),a}var l=a(1);e.exports=n},function(e,t,a){function n(e,t){var a=l(e),n=Number(t);return a.setMinutes(n),a}var l=a(1);e.exports=n},function(e,t,a){function n(e){var t=l(e);return t.setSeconds(0,0),t}var l=a(1);e.exports=n},function(e,t,a){function n(e){var t=l(e);return t.setDate(1),t.setHours(0,0,0,0),t}var l=a(1);e.exports=n},function(e,t,a){function n(e,t){var a=t?Number(t.weekStartsOn)||0:0,n=l(e),r=n.getDay(),i=(r<a?7:0)+r-a;return n.setDate(n.getDate()-i),n.setHours(0,0,0,0),n}var l=a(1);e.exports=n},function(e,t,a){"use strict";var n=a(0);n.module("mwl.calendar").controller("MwlCalendarMonthCtrl",["$scope","moment","calendarHelper","calendarConfig","calendarEventTitle",function(e,t,a,l,r){function i(){d.openRowIndex=null,d.openDayIndex=null,d.cellIsOpen&&d.view&&d.weekDays&&d.view.forEach(function(e,a){t(d.viewDate).startOf("day").isSame(e.date)&&(d.openDayIndex=a,d.openRowIndex=Math.floor(a/d.weekDays.length))})}var d=this;d.calendarConfig=l,d.calendarEventTitle=r,d.openRowIndex=null,e.$on("calendar.refreshView",function(){d.weekDays=a.getWeekDayNames(d.excludedDays);var e=a.getMonthView(d.events,d.viewDate,d.cellModifier,d.excludedDays);d.view=e.days,d.monthOffsets=e.rowOffsets,d.cellAutoOpenDisabled?i():!d.cellAutoOpenDisabled&&d.cellIsOpen&&null===d.openRowIndex&&(d.openDayIndex=null,d.view.forEach(function(e){e.inMonth&&t(d.viewDate).startOf("day").isSame(e.date)&&d.dayClicked(e,!0)}))}),d.dayClicked=function(e,t,a){if((t||(d.onTimespanClick({calendarDate:e.date.toDate(),calendarCell:e,$event:a}),!a||!a.defaultPrevented))&&!d.cellAutoOpenDisabled){d.openRowIndex=null;var n=d.view.indexOf(e);n===d.openDayIndex?(d.openDayIndex=null,d.cellIsOpen=!1):(d.openDayIndex=n,d.openRowIndex=Math.floor(n/d.weekDays.length),d.cellIsOpen=!0)}},d.highlightEvent=function(e,t){d.view.forEach(function(a){if(delete a.highlightClass,delete a.backgroundColor,t){a.events.indexOf(e)>-1&&(a.backgroundColor=e.color?e.color.secondary:"")}})},d.handleEventDrop=function(e,n,l){var r=t(e.startsAt).year(t(n).year()).month(t(n).month()).date(t(n).date()),i=a.adjustEndDateFromStartDiff(e.startsAt,r,e.endsAt);d.onEventTimesChanged({calendarEvent:e,calendarDate:n,calendarNewEventStart:r.toDate(),calendarNewEventEnd:i?i.toDate():null,calendarDraggedFromDate:l})},d.getWeekNumberLabel=function(e){var t=e.date.clone().add(1,"day").isoWeek();return"function"==typeof l.i18nStrings.weekNumber?l.i18nStrings.weekNumber({weekNumber:t}):l.i18nStrings.weekNumber.replace("{week}",t)},d.onDragSelectStart=function(e){d.dateRangeSelect||(d.dateRangeSelect={startDate:e.date,endDate:e.date})},d.onDragSelectMove=function(e){d.dateRangeSelect&&(d.dateRangeSelect.endDate=e.date)},d.onDragSelectEnd=function(e){d.dateRangeSelect&&(d.dateRangeSelect.endDate=e.date,d.dateRangeSelect.endDate>d.dateRangeSelect.startDate&&d.onDateRangeSelect({calendarRangeStartDate:d.dateRangeSelect.startDate.clone().startOf("day").toDate(),calendarRangeEndDate:d.dateRangeSelect.endDate.clone().endOf("day").toDate()}),delete d.dateRangeSelect)},d.$onInit=function(){d.cellAutoOpenDisabled&&e.$watchGroup(["vm.cellIsOpen","vm.viewDate"],i)},n.version.minor<5&&d.$onInit()}]).directive("mwlCalendarMonth",function(){return{template:'<div mwl-dynamic-directive-template name="calendarMonthView" overrides="vm.customTemplateUrls"></div>',restrict:"E",require:"^mwlCalendar",scope:{events:"=",viewDate:"=",excludedDays:"=",onEventClick:"=",onEventTimesChanged:"=",onDateRangeSelect:"=",cellIsOpen:"=",cellAutoOpenDisabled:"=",onTimespanClick:"=",cellModifier:"=",slideBoxDisabled:"=",customTemplateUrls:"=?",templateScope:"=",draggableAutoScroll:"="},controller:"MwlCalendarMonthCtrl as vm",link:function(e,t,a,n){e.vm.calendarCtrl=n},bindToController:!0}})},function(e,t,a){"use strict";a(0).module("mwl.calendar").controller("MwlCalendarSlideBoxCtrl",["$scope","$timeout","calendarConfig","calendarEventTitle",function(e,t,a,n){var l=this;l.calendarConfig=a,l.calendarEventTitle=n,l.isCollapsed=!0,e.$watch("vm.isOpen",function(e){t(function(){l.isCollapsed=!e})})}]).directive("mwlCalendarSlideBox",function(){return{restrict:"E",template:'<div mwl-dynamic-directive-template name="calendarSlideBox" overrides="vm.customTemplateUrls"></div>',replace:!0,controller:"MwlCalendarSlideBoxCtrl as vm",require:["^?mwlCalendarMonth","^?mwlCalendarYear"],link:function(e,t,a,n){e.isMonthView=!!n[0],e.isYearView=!!n[1]},scope:{isOpen:"=",events:"=",onEventClick:"=",cell:"=",customTemplateUrls:"=?",templateScope:"=",draggableAutoScroll:"=",rowIndex:"=",colIndex:"=",label:"="},bindToController:!0}})},function(e,t,a){"use strict";a(0).module("mwl.calendar").controller("MwlCalendarWeekCtrl",["$scope","moment","calendarHelper","calendarConfig","calendarEventTitle",function(e,t,a,n,l){var r=this;r.showTimes=n.showTimesOnWeekView,r.calendarEventTitle=l,e.$on("calendar.refreshView",function(){r.dayViewSplit=r.dayViewSplit||30,r.dayViewHeight=a.getDayViewHeight(r.dayViewStart,r.dayViewEnd,r.dayViewSplit),r.showTimes?r.view=a.getWeekViewWithTimes(r.events,r.viewDate,r.dayViewStart,r.dayViewEnd,r.dayViewSplit):r.view=a.getWeekView(r.events,r.viewDate,r.excludedDays),console.log(r)}),r.weekDragged=function(e,a,n){var l=t(e.startsAt),i=t(e.endsAt),d=t(e.startsAt).add(a,"days").toDate(),o=t(e.endsAt).add(a,"days").toDate();if(d.getTime()<r.view.days[0].date.toDate().getTime()&&(l=r.view.days[0].date),l=l.add(a,"days"),o.getTime()>r.view.days[r.view.days.length-1].date.toDate().getTime()&&(i=r.view.days[r.view.days.length-1].date,a=(o.getTime()-r.view.days[r.view.days.length-1].date.toDate().getTime())/864e5),i.add(a,"days"),n){var s=n*r.dayViewSplit;l=l.add(s,"minutes"),i=i.add(s,"minutes")}delete e.tempStartsAt,r.onEventTimesChanged({calendarEvent:e,calendarNewEventStart:l.toDate(),calendarNewEventEnd:e.endsAt?i.toDate():null})},r.eventDropped=function(e,a){var n=t(a).diff(t(e.startsAt),"days");r.weekDragged(e,n)},r.weekResized=function(e,a,n){var l=t(e.startsAt).add(n,"days").toDate(),i=t(e.endsAt).add(n,"days").toDate(),d=t(e.startsAt),o=t(e.endsAt);"start"===a?(l.getTime()<r.view.days[0].date.toDate().getTime()&&(d=r.view.days[0].date),d=d.add(n,"days")):"end"===a?(i.getTime()>r.view.days[r.view.days.length-1].date.toDate().getTime()&&(o=r.view.days[r.view.days.length-1].date.add(1,"days")),o.add(n,"days")):(l.getTime()<r.view.days[0].date.toDate().getTime()&&(d=r.view.days[0].date),d=d.add(n,"days"),i.getTime()>r.view.days[r.view.days.length-1].date.toDate().getTime()&&(o=r.view.days[r.view.days.length-1].date.add(1,"days")),o.add(n,"days")),r.onEventTimesChanged({calendarEvent:e,calendarNewEventStart:d.toDate(),calendarNewEventEnd:o.toDate()})},r.tempTimeChanged=function(e,a){var n=a*r.dayViewSplit;e.tempStartsAt=t(e.startsAt).add(n,"minutes").toDate()}}]).directive("mwlCalendarWeek",function(){return{template:'<div mwl-dynamic-directive-template name="calendarWeekView" overrides="vm.customTemplateUrls"></div>',restrict:"E",require:"^mwlCalendar",scope:{events:"=",viewDate:"=",excludedDays:"=",onEventClick:"=",onEventTimesChanged:"=",dayViewStart:"=",dayViewEnd:"=",dayViewSplit:"=",dayViewEventChunkSize:"=",onTimespanClick:"=",onDateRangeSelect:"=",customTemplateUrls:"=?",cellModifier:"=",templateScope:"=",draggableAutoScroll:"="},controller:"MwlCalendarWeekCtrl as vm",link:function(e,t,a,n){e.vm.calendarCtrl=n},bindToController:!0}})},function(e,t,a){"use strict";var n=a(0);n.module("mwl.calendar").controller("MwlCalendarYearCtrl",["$scope","moment","calendarHelper",function(e,t,a){function l(){r.openRowIndex=null,r.openMonthIndex=null,r.cellIsOpen&&r.view&&r.view.forEach(function(e,a){t(r.viewDate).startOf("month").isSame(e.date)&&(r.openMonthIndex=a,r.openRowIndex=Math.floor(a/4))})}var r=this;r.openMonthIndex=null,e.$on("calendar.refreshView",function(){r.view=a.getYearView(r.events,r.viewDate,r.cellModifier,r.yearViewStart,r.yearViewEnd),console.log(r),r.cellAutoOpenDisabled?l():!r.cellAutoOpenDisabled&&r.cellIsOpen&&null===r.openMonthIndex&&(r.openMonthIndex=null,r.view.forEach(function(e){t(r.viewDate).startOf("month").isSame(e.date)&&r.monthClicked(e,!0)}))}),r.monthClicked=function(e,t,a){if((t||(r.onTimespanClick({calendarDate:e.date.toDate(),calendarCell:e,$event:a}),!a||!a.defaultPrevented))&&!r.cellAutoOpenDisabled){r.openRowIndex=null;var n=r.view.indexOf(e);n===r.openMonthIndex?(r.openMonthIndex=null,r.cellIsOpen=!1):(r.openMonthIndex=n,r.openRowIndex=Math.floor(n/4),r.cellIsOpen=!0)}},r.getDivQzWidth=function(){return 100/r.view.length},r.handleEventDrop=function(e,n){var l=t(e.startsAt).year(t(n).year()).month(t(n).month()),i=a.adjustEndDateFromStartDiff(e.startsAt,l,e.endsAt);r.onEventTimesChanged({calendarEvent:e,calendarDate:n,calendarNewEventStart:l.toDate(),calendarNewEventEnd:i?i.toDate():null})},r.$onInit=function(){r.cellAutoOpenDisabled&&e.$watchGroup(["vm.cellIsOpen","vm.viewDate","vm.yaerViewStart","vm.yearViewEnd"],l)},n.version.minor<5&&r.$onInit()}]).directive("mwlCalendarYear",function(){return{template:'<div mwl-dynamic-directive-template name="calendarYearView" overrides="vm.customTemplateUrls"></div>',restrict:"E",require:"^mwlCalendar",scope:{events:"=",viewDate:"=",onEventClick:"=",onEventTimesChanged:"=",cellIsOpen:"=",cellAutoOpenDisabled:"=",onTimespanClick:"=",cellModifier:"=",slideBoxDisabled:"=",customTemplateUrls:"=?",yearViewStart:"=",yearViewEnd:"=",templateScope:"="},controller:"MwlCalendarYearCtrl as vm",link:function(e,t,a,n){e.vm.calendarCtrl=n},bindToController:!0}})},function(e,t,a){"use strict";a(0).module("mwl.calendar").controller("MwlCollapseFallbackCtrl",["$scope","$attrs","$element",function(e,t,a){e.$watch(t.mwlCollapseFallback,function(e){e?a.addClass("ng-hide"):a.removeClass("ng-hide")})}]).directive("mwlCollapseFallback",["$injector",function(e){return e.has("uibCollapseDirective")?{}:{restrict:"A",controller:"MwlCollapseFallbackCtrl"}}])},function(e,t,a){"use strict";var n=a(0);n.module("mwl.calendar").controller("MwlDateModifierCtrl",["$element","$attrs","$scope","moment",function(e,t,a,l){function r(){if(n.isDefined(t.setToToday))i.date=new Date;else if(n.isDefined(t.increment)){if(i.date=l(i.date).add(1,i.increment),i.excludedDays&&i.increment.indexOf("day")>-1)for(;i.excludedDays.indexOf(i.date.day())>-1;)i.date.add(1,i.increment);i.date=i.date.toDate()}else if(n.isDefined(t.decrement)){if(i.date=l(i.date).subtract(1,i.decrement),i.excludedDays&&i.decrement.indexOf("day")>-1)for(;i.excludedDays.indexOf(i.date.day())>-1;)i.date.subtract(1,i.decrement);i.date=i.date.toDate()}a.$apply()}var i=this;e.bind("click",r),a.$on("$destroy",function(){e.unbind("click",r)})}]).directive("mwlDateModifier",function(){return{restrict:"A",controller:"MwlDateModifierCtrl as vm",scope:{date:"=",increment:"=",decrement:"=",excludedDays:"=?"},bindToController:!0}})},function(e,t,a){"use strict";a(0).module("mwl.calendar").controller("MwlDragSelectCtrl",["$scope","$element","$parse","$attrs",function(e,t,a,n){function l(t){return function(n){t&&2!==n.button&&(a(t)(e),e.$apply()),n.preventDefault()}}function r(){t.on("mousedown",d),t.on("mousemove",o),t.on("mouseup",s)}function i(){t.off("mousedown",d),t.off("mousemove",o),t.off("mouseup",s)}var d=l(n.onDragSelectStart),o=l(n.onDragSelectMove),s=l(n.onDragSelectEnd);e.$watch(n.mwlDragSelect,function(e){e?r():i()}),e.$on("$destroy",function(){i()})}]).directive("mwlDragSelect",function(){return{restrict:"A",controller:"MwlDragSelectCtrl"}})},function(e,t,a){"use strict";var n=a(0);n.module("mwl.calendar").controller("MwlDraggableCtrl",["$element","$scope","$window","$parse","$attrs","$timeout","interact",function(e,t,a,l,r,i,d){function o(e,t){return e.css("-ms-transform",t).css("-webkit-transform",t).css("transform",t)}if(d){var s,c;r.snapGrid&&(c=l(r.snapGrid)(t),s={targets:[d.createSnapGrid(c)]});var v=l(r.autoScroll)(t);void 0===v&&(v=!0),d(e[0]).draggable({autoScroll:v,snap:s,onstart:function(e){n.element(e.target).addClass("dragging-active"),e.target.dropData=l(r.dropData)(t),e.target.style.pointerEvents="none",r.onDragStart&&(l(r.onDragStart)(t),t.$apply())},onmove:function(e){var i=n.element(e.target),d=(parseFloat(i.attr("data-x"))||0)+(e.dx||0),s=(parseFloat(i.attr("data-y"))||0)+(e.dy||0);switch(l(r.axis)(t)){case"x":s=0;break;case"y":d=0}"static"===a.getComputedStyle(i[0]).position&&i.css("position","relative"),o(i,"translate("+d+"px, "+s+"px)").css("z-index",50).attr("data-x",d).attr("data-y",s),r.onDrag&&(l(r.onDrag)(t,{x:d,y:s}),t.$apply())},onend:function(e){var a=n.element(e.target),d=a.attr("data-x"),s=a.attr("data-y");e.target.style.pointerEvents="auto",r.onDragEnd&&(l(r.onDragEnd)(t,{x:d,y:s}),t.$apply()),i(function(){o(a,"").css("z-index","auto").removeAttr("data-x").removeAttr("data-y").removeClass("dragging-active")})}}),t.$watch(r.mwlDraggable,function(t){d(e[0]).draggable({enabled:t})}),t.$on("$destroy",function(){d(e[0]).unset()})}}]).directive("mwlDraggable",function(){return{restrict:"A",controller:"MwlDraggableCtrl"}})},function(e,t,a){"use strict";var n=a(0);n.module("mwl.calendar").controller("MwlDroppableCtrl",["$element","$scope","$parse","$attrs","interact",function(e,t,a,l,r){if(r){var i=l.dropActiveClass||"drop-active",d=l.dropOverlap||"pointer";r(e[0]).dropzone({ondragenter:function(e){n.element(e.target).addClass(i)},ondragleave:function(e){n.element(e.target).removeClass(i)},ondropdeactivate:function(e){n.element(e.target).removeClass(i)},ondrop:function(e){e.relatedTarget.dropData&&(a(l.onDrop)(t,{dropData:e.relatedTarget.dropData}),t.$apply())},overlap:d}),t.$on("$destroy",function(){r(e[0]).unset()})}}]).directive("mwlDroppable",function(){return{restrict:"A",controller:"MwlDroppableCtrl"}})},function(e,t,a){"use strict";var n=a(0);n.module("mwl.calendar").controller("MwlDynamicDirectiveTemplateCtrl",["$compile","$scope","$attrs","$element","$templateCache","$log","calendarConfig",function(e,t,a,l,r,i,d){t.$watch(a.overrides,function(o){var s=d.templates[a.name];o&&n.isObject(o)&&o[a.name]&&(r.get(o[a.name])?s=o[a.name]:i.warn("Bootstrap Calendar","The custom template for "+o[a.name]+' was not found in the template cache. Please ensure it is pre-loaded via a script tag <script type="text/ng-template" id="'+o[a.name]+'">Custom template content<\/script> or via a tool such as https://www.npmjs.com/package/gulp-angular-templatecache'));var c=r.get(s);l.html(c),e(l.contents())(t)})}]).directive("mwlDynamicDirectiveTemplate",function(){return{restrict:"A",controller:"MwlDynamicDirectiveTemplateCtrl"}})},function(e,t,a){"use strict";var n=a(0);n.module("mwl.calendar").controller("MwlElementDimensionsCtrl",["$element","$scope","$parse","$attrs","$window",function(e,t,a,l,r){function i(){a(l.mwlElementDimensions).assign(t,{width:e[0].offsetWidth-1,height:e[0].offsetHeight}),t.$applyAsync()}var d=n.element(r);d.bind("resize",i),i(),t.$on("$destroy",function(){d.unbind("resize",i)})}]).directive("mwlElementDimensions",function(){return{restrict:"A",controller:"MwlElementDimensionsCtrl"}})},function(e,t,a){"use strict";var n=a(0);n.module("mwl.calendar").controller("MwlResizableCtrl",["$element","$scope","$parse","$attrs","$timeout","interact",function(e,t,a,l,r,i){function d(e,t){var a={};return a.edge=e,"start"===e?(a.x=t.data("x"),a.y=t.data("y")):"end"===e&&(a.x=parseFloat(t.css("width").replace("px",""))-v.width,a.y=parseFloat(t.css("height").replace("px",""))-v.height),a}if(i){var o,s;l.snapGrid&&(s=a(l.snapGrid)(t),o={targets:[i.createSnapGrid(s)]});var c,v={},m={};i(e[0]).resizable({edges:a(l.resizeEdges)(t),snap:o,onstart:function(e){c="end";var t=n.element(e.target);v.height=t[0].offsetHeight,v.width=t[0].offsetWidth,m.height=t.css("height"),m.width=t.css("width")},onmove:function(e){if(e.rect.width>0&&e.rect.height>0){var r=n.element(e.target),i=parseFloat(r.data("x")||0),o=parseFloat(r.data("y")||0);r.css({width:e.rect.width+"px",height:e.rect.height+"px"}),i+=e.deltaRect.left,o+=e.deltaRect.top,r.css("transform","translate("+i+"px,"+o+"px)"),r.data("x",i),r.data("y",o),0===e.deltaRect.left&&0===e.deltaRect.top||(c="start"),l.onResize&&(a(l.onResize)(t,d(c,r)),t.$apply())}},onend:function(e){var i=n.element(e.target),o=d(c,i);r(function(){i.data("x",null).data("y",null).css({transform:"",width:m.width,height:m.height})}),l.onResizeEnd&&(a(l.onResizeEnd)(t,o),t.$apply())}}),t.$watch(l.mwlResizable,function(t){i(e[0]).resizable({enabled:t})}),t.$on("$destroy",function(){i(e[0]).unset()})}}]).directive("mwlResizable",function(){return{restrict:"A",controller:"MwlResizableCtrl"}})},function(e,t,a){function n(e){return a(l(e))}function l(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./calendarDate.js":59,"./calendarLimitTo.js":60,"./calendarTruncateEventTitle.js":61,"./calendarTrustAsHtml.js":62};n.keys=function(){return Object.keys(r)},n.resolve=l,e.exports=n,n.id=58},function(e,t,a){"use strict";a(0).module("mwl.calendar").filter("calendarDate",["calendarHelper","calendarConfig",function(e,t){function a(a,n,l){return!0===l&&(n=t.dateFormats[n]),e.formatDate(a,n)}return a.$stateful=!0,a}])},function(e,t,a){"use strict";var n=a(0);n.module("mwl.calendar").filter("calendarLimitTo",["limitToFilter",function(e){return n.version.minor>=4?e:function(e,t,a){return t=Math.abs(Number(t))===1/0?Number(t):parseInt(t),isNaN(t)?e:(n.isNumber(e)&&(e=e.toString()),n.isArray(e)||n.isString(e)?(a=!a||isNaN(a)?0:parseInt(a),a=a<0&&a>=-e.length?e.length+a:a,t>=0?e.slice(a,a+t):0===a?e.slice(t,e.length):e.slice(Math.max(0,a+t),a)):e)}}])},function(e,t,a){"use strict";a(0).module("mwl.calendar").filter("calendarTruncateEventTitle",function(){return function(e,t,a){return e?e.length>=t&&e.length/20>a/30?e.substr(0,t)+"...":e:""}})},function(e,t,a){"use strict";a(0).module("mwl.calendar").filter("calendarTrustAsHtml",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}])},function(e,t,a){function n(e){return a(l(e))}function l(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./calendarConfig.js":64,"./calendarEventTitle.js":65,"./calendarHelper.js":66,"./calendarTitle.js":67,"./interact.js":68,"./moment.js":70};n.keys=function(){return Object.keys(r)},n.resolve=l,e.exports=n,n.id=63},function(e,t,a){"use strict";a(0).module("mwl.calendar").constant("calendarConfig",{allDateFormats:{angular:{date:{hour:"ha",day:"d MMM",month:"MMMM",weekDay:"EEEE",time:"HH:mm",datetime:"MMM d, h:mm a"},title:{day:"EEEE d MMMM, yyyy",week:"Week {week} of {year}",month:"MMMM yyyy",year:"yyyy"}},moment:{date:{dayDate:"MMM D",dayHour:"HH:mm",hour:"ha",day:"D MMM",month:"MMMM",weekDay:"dddd",weekDayShort:"ddd",time:"HH:mm",datetime:"MMM D, h:mm a"},title:{day:"YYYY MMMM D dddd",week:"{year} 第 {week} 周",month:"YYYY MMMM",year:"YYYY"}}},get dateFormats(){return this.allDateFormats[this.dateFormatter].date},get titleFormats(){return this.allDateFormats[this.dateFormatter].title},dateFormatter:"moment",showTimesOnWeekView:!1,displayAllMonthEvents:!1,i18nStrings:{weekNumber:"Week {week}"},templates:{},colorTypes:{info:{primary:"#1e90ff",secondary:"#d1e8ff"},important:{primary:"#ad2121",secondary:"#fae3e3"},warning:{primary:"#e3bc08",secondary:"#fdf1ba"},inverse:{primary:"#1b1b1b",secondary:"#c1c1c1"},special:{primary:"#800080",secondary:"#ffe6ff"},success:{primary:"#006400",secondary:"#caffca"}}})},function(e,t,a){"use strict";a(0).module("mwl.calendar").factory("calendarEventTitle",["calendarDateFilter","calendarTruncateEventTitleFilter",function(e,t){function a(t){return t.title+" ("+e(t.startsAt,"datetime",!0)+")"}function n(t){return t.title+" ("+e(t.startsAt,"time",!0)+")"}function l(t){return e(t.startsAt,"time",!0)+" - "+t.title}function r(e){return e.title}function i(e){return e.title}function d(e){return e.allDay?e.title:t(e.title,20,e.height)}function o(e){return e.title}return{yearView:a,monthView:n,monthViewTooltip:l,weekView:r,weekViewTooltip:i,dayView:d,dayViewTooltip:o}}])},function(e,t,a){"use strict";var n=a(0),l=a(4);n.module("mwl.calendar").factory("calendarHelper",["$q","$templateRequest","dateFilter","moment","calendarConfig",function(e,t,a,n,r){function i(e,t){if("angular"===r.dateFormatter)return a(n(e).toDate(),t);if("moment"===r.dateFormatter)return n(e).format(t);throw new Error("Unknown date formatter: "+r.dateFormatter)}function d(e,t,a){if(!a)return a;var l=n(t).diff(n(e));return n(a).add(l)}function o(e,t,a){var l=n(e.start),r=n(e.end),i=n(a);if(t){switch(t){case"year":l.set({year:i.year()});break;case"month":l.set({year:i.year(),month:i.month()});break;default:throw new Error("Invalid value ("+t+") given for recurs on. Can only be year or month.")}r=d(e.start,l,r)}return{start:l,end:r}}function s(e,t,a){t=n(t),a=n(a);var l=o({start:e.startsAt,end:e.endsAt||e.startsAt},e.recursOn,t),r=l.start,i=l.end;return r.isAfter(t)&&r.isBefore(a)||i.isAfter(t)&&i.isBefore(a)||r.isBefore(t)&&i.isAfter(a)||r.isSame(t)||i.isSame(a)}function c(e,t,a){return e.filter(function(e){return s(e,t,a)})}function v(e,t,a){return c(a,n(e).startOf(t),n(e).endOf(t))}function m(e){return e.filter(function(e){return!1!==e.incrementsBadgeTotal}).length}function u(e){return[0,1,2,3,4,5,6].filter(function(t){return!(e||[]).some(function(e){return e===t})}).map(function(e){return i(n().weekday(e),r.dateFormats.weekDayShort)})}function g(e,t,a,l,d){for(var o=[],s=v(t,"year",e),u=n(t).startOf("year"),g=0;g<=11;){var w=u.clone(),p=w.clone().endOf("month"),y=c(s,w,p),f={label:i(w,r.dateFormats.month),isToday:w.isSame(n().startOf("month")),events:y,date:w,badgeTotal:m(y)};a({calendarCell:f}),o.push(f),u.add(1,"month"),g++}if((void 0==l||l<0||l>11)&&(l=0),(void 0==d||d<0||d>11)&&(d=11),parseInt(l)>=0&&parseInt(d)<=11&&parseInt(d)>parseInt(l)){var h=parseInt(d)-parseInt(l)+1;o=o.splice(parseInt(l),h)}return o}function w(e,t){return e.start=t.start.toDate(),e.endsAt&&(e.end=t.end.toDate()),e}function p(e,t,a,i){e.forEach(function(e){w(e,o({start:n(e.startsAt),end:n(e.endsAt||e.startsAt)},e.recursOn,n(t).startOf("month")))});var d=l.getMonthView({events:e,viewDate:t,excluded:i,weekStartsOn:n().startOf("week").day()});return d.days=d.days.map(function(e){return e.date=n(e.date),e.label=e.date.date(),e.badgeTotal=m(e.events),r.displayAllMonthEvents||e.inMonth||(e.events=[]),a({calendarCell:e}),e}),e.forEach(function(e){delete e.start,delete e.end}),d}function y(e,t,a){var d=l.getWeekViewHeader({viewDate:t,excluded:a,weekStartsOn:n().startOf("week").day()}).map(function(e){return e.date=n(e.date),e.weekDayLabel=i(e.date,r.dateFormats.weekDayShort),e.dayLabel=i(e.date,r.dateFormats.dayDate),e}),s=n(t).startOf("week"),v=n(t).endOf("week");return{days:d,eventRows:l.getWeekView({viewDate:t,weekStartsOn:n().startOf("week").day(),excluded:a,events:c(e,s,v).map(function(e){var t=n(s).startOf("day"),a=o({start:n(e.startsAt),end:n(e.endsAt||e.startsAt)},e.recursOn,t),l={originalEvent:e,start:a.start.toDate()};return e.endsAt&&(l.end=a.end.toDate()),l})}).eventRows.map(function(e){return e.row=e.row.map(function(e){return e.event=e.event.originalEvent,e}),e})}}function f(e,t,a,r,i,d,s){var c=(a||"00:00").split(":"),v=(r||"23:59").split(":"),m=l.getDayView({events:e.map(function(e){return w(e,o({start:n(e.startsAt),end:n(e.endsAt||e.startsAt)},e.recursOn,n(t).startOf("day")))}),viewDate:t,hourSegments:60/i,dayStart:{hour:c[0],minute:c[1]},dayEnd:{hour:v[0],minute:v[1]},eventWidth:d?+d:150,segmentHeight:s||30});return e.forEach(function(e){delete e.start,delete e.end}),m}function h(e,t,a,r,i){var d=y(e,t),o=[],s=[];return d.eventRows.forEach(function(e){e.row.forEach(function(e){s.push(e.event)})}),d.days.forEach(function(e){var t=s.filter(function(t){return n(t.startsAt).startOf("day").isSame(n(e.date).startOf("day"))}),l=f(t,e.date,a,r,i).events;o=o.concat(l)}),d.eventRows=[{row:o.map(function(e){var a=e.event;return{event:a,top:e.top,offset:l.getWeekViewEventOffset({event:{start:a.startsAt,end:a.endsAt},startOfWeek:n(t).startOf("week").toDate()})}})}],d}function E(e,t,a,l){var r=n(e||"00:00","HH:mm"),i=n(t||"23:59","HH:mm"),d=60/a*(l||30);return i.diff(r,"minutes")/60*d+3}function b(){var a=Object.keys(r.templates).map(function(e){var a=r.templates[e];return t(a)});return e.all(a)}return{getWeekDayNames:u,getYearView:g,getMonthView:p,getWeekView:y,getDayView:f,getWeekViewWithTimes:h,getDayViewHeight:E,adjustEndDateFromStartDiff:d,formatDate:i,loadTemplates:b,eventIsInPeriod:s}}])},function(e,t,a){"use strict";a(0).module("mwl.calendar").factory("calendarTitle",["moment","calendarConfig","calendarHelper",function(e,t,a){function n(e){return a.formatDate(e,t.titleFormats.day)}function l(a){return t.titleFormats.week.replace("{week}",e(a).isoWeek()).replace("{year}",e(a).startOf("isoweek").format("YYYY"))}function r(e){return a.formatDate(e,t.titleFormats.month)}function i(e){return a.formatDate(e,t.titleFormats.year)}return{day:n,week:l,month:r,year:i}}])},function(e,t,a){"use strict";var n,l=a(0);try{n=a(69)}catch(e){n=null}l.module("mwl.calendar").constant("interact",n)},function(e,t){if(void 0===a){var n=new Error('Cannot find module "undefined"');throw n.code="MODULE_NOT_FOUND",n}e.exports=a},function(e,t,a){"use strict";var n=a(0),l=a(71);n.module("mwl.calendar").constant("moment",l)},function(e,a){e.exports=t}])});
//# sourceMappingURL=angular-bootstrap-calendar-tpls.min.js.map